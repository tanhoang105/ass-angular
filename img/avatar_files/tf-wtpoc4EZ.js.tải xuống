if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }

__d("LSPredefineTraceForTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return c[0]=b.i64.of_float(Date.now()),b.fe(b.db.table(2).fetch([[[a[1]]]]),function(b){var d=b.update;b.item;return d({dataTraceId:a[0],initTraceTimestampMs:c[0]})})},function(d){return b.db.table(153).add({traceId:a[0],initTimestampMs:c[0],foregroundTimestampMs:[0,0],traceType:[0,1],shouldFlush:!1,contextOne:a[2],contextTwo:b.i64.to_string(a[1]),predefinedId:a[3]})}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSInsertOptimisticAttachment",["LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e;return c.seq([function(d){return c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[0],a[2],a[4]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq([0,0],[0,0])&&b.messageId===a[2]&&b.attachmentFbid===a[4]&&c.i64.lt(b.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(16).add({threadKey:a[0],messageId:a[2],attachmentFbid:a[4],timestampMs:a[1],offlineAttachmentId:a[3],attachmentType:a[5],filename:a[6],attributionAppId:a[7],hasMedia:a[8],isSharable:!1,hasXma:a[9],authorityLevel:[0,20]})},function(d){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[0],a[2],a[1],e,!1,c.i64.eq(a[5],[0,1]))}])},function(a){return c.resolve(d)}])}e.exports=a}),null);
__d("LSSetMessageViewFlags",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],e,[-1,4294967295],[-1,4294967295]],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=d[6],c[7]=d[7],c[8]=d[8],d):(b=a.item,d=[b.timestampMs,b.senderId,b.viewFlags,b.isAdminMessage,b.messageId,b.authorityLevel,b.stickerId,b.primarySortKey,b.secondarySortKey==null?[-1,4294967295]:b.secondarySortKey],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=d[6],c[7]=d[7],c[8]=d[8],d)})},function(d){return b.sb(b.ftr(b.db.table(12).fetch([[[a[0],{gt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.gt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.ge(d.secondarySortKey==null?[-1,4294967295]:d.secondarySortKey,c[8]))}),[["timestampMs","ASC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],e,[-1,4294967295],[-1,4294967295]],c[10]=d[0],c[11]=d[1],c[12]=d[2],c[13]=d[3],c[14]=d[4],c[15]=d[5],c[16]=d[6],c[17]=d[7],c[18]=d[8],d):(b=a.item,d=[b.timestampMs,b.senderId,b.viewFlags,b.isAdminMessage,b.messageId,b.authorityLevel,b.stickerId,[-1,4294967295],[-1,4294967295]],c[10]=d[0],c[11]=d[1],c[12]=d[2],c[13]=d[3],c[14]=d[4],c[15]=d[5],c[16]=d[6],c[17]=d[7],c[18]=d[8],d)})},function(d){return b.sb(b.ftr(b.db.table(12).fetchDesc([[[a[0],{lt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.lt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.le(d.secondarySortKey==null?[-1,4294967295]:d.secondarySortKey,c[8]))}),[["timestampMs","DESC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],e,[-1,4294967295],[-1,4294967295]],c[20]=d[0],c[21]=d[1],c[22]=d[2],c[23]=d[3],c[24]=d[4],c[25]=d[5],c[26]=d[6],c[27]=d[7],c[28]=d[8],d):(b=a.item,d=[b.timestampMs,b.senderId,b.viewFlags,b.isAdminMessage,b.messageId,b.authorityLevel,b.stickerId,[-1,4294967295],[-1,4294967295]],c[20]=d[0],c[21]=d[1],c[22]=d[2],c[23]=d[3],c[24]=d[4],c[25]=d[5],c[26]=d[6],c[27]=d[7],c[28]=d[8],d)})},function(d){return c[32]=b.i64.or_([0,2],b.i64.or_(!c[3]&&!a[3]?[0,4]:[0,0],b.i64.or_(c[3]?[0,0]:[0,1],b.i64.or_(b.i64.eq(c[5],[0,60])||b.i64.eq(c[5],[0,80])?[0,1048576]:[0,0],b.i64.neq(c[6],[85970,924785702])&&b.i64.neq(c[6],[85970,1004785694])&&b.i64.neq(c[6],[85970,1044785690])?[0,0]:[0,2097152])))),c[14]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[12],[-1,4294967280]),b.i64.or_(b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5])?[0,2]:[0,0],b.i64.or_(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5])?[0,8]:[0,0],b.i64.or_(!a[3]&&!c[13]&&!(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5]))?[0,4]:[0,0],b.i64.and_(c[12],[0,1]))))),c[33]=b.i64.eq(b.i64.and_(c[35],[0,8]),[0,8]),c[34]=c[33]?b.i64.or_(c[32],[0,16]):c[32],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[10],c[14]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.timestampMs,c[10])&&d.messageId===c[14]}),function(a){var b=a.update;a.item;return b({viewFlags:c[35]})})},function(a){return c[30]=c[33]?b.i64.and_(c[34],[-1,4294967294]):c[34]}]):b.resolve(c[30]=c[32])},function(d){return c[24]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[30],[-1,4294967280]),b.i64.or_(b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5])?[0,2]:[0,0],b.i64.or_(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5])?[0,8]:[0,0],b.i64.or_(!a[3]&&!c[3]&&!(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5]))?[0,4]:[0,0],b.i64.and_(c[30],[0,1]))))),c[33]=b.i64.eq(b.i64.and_(c[35],[0,8]),[0,8]),c[34]=c[33]?b.i64.or_(c[22],[0,16]):c[22],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[20],c[24]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.timestampMs,c[20])&&d.messageId===c[24]}),function(a){var d=a.update;a.item;return d({viewFlags:c[33]?b.i64.and_(c[34],[-1,4294967294]):c[34]})})},function(a){return c[31]=c[35]}]):b.resolve(c[31]=c[30])},function(d){return b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[0],c[4]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.timestampMs,c[0])&&d.messageId===c[4]}),function(a){var b=a.update;a.item;return b({viewFlags:c[31]})})}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSLocalApplyOptimisticMessage",["LSCreateOfflineThreadingID","LSGetViewerFBID","LSIssueNewError","LSSetMessageDisplayedContentTypes","LSSetMessageViewFlags"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return d[7]=c.i64.of_float(Date.now()),f!==f?c.resolve(d[0]=f):c.seq([function(a){return c.sp(b("LSCreateOfflineThreadingID"),d[7]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[0]=c.i64.to_string(d[9])}])},function(e){return d[8]=a[4]==null?a[3]:a[4],c.seq([function(a){return c.islc(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),0,c.i64.to_float([0,1])).next().then(function(a,b){var c=a.done;a=a.value;return c?d[9]=[-1,4294967295]:(b=a.item,d[9]=b.lastActivityTimestampMs)})},function(e){return d[11]=c.i64.add(d[9],[0,1]),d[13]=c.i64.gt(d[7],d[11])?d[7]:d[11],c.db.table(9).fetch([[[a[1]]]]).next().then(function(e,h){h=e.done;e=e.value;return h?c.seq([function(b){return function(a){c.logger(a).info(a)}("localApplyOptimisticMessage insert optimistic thread"),c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.lt(b.authorityLevel,[0,40])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[1],mailboxType:[0,0],threadType:a[2],clientThreadKey:a[1],folderName:"inbox",parentThreadKey:[0,0],lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],ongoingCallState:[0,0],authorityLevel:[0,40]})},function(b){return c.i64.eq(a[2],[0,13])||c.i64.eq(a[2],[0,7])||c.i64.eq(a[2],[0,1])?c.seq([function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[1],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,a[1])&&c.i64.lt(b.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[1],contactId:a[1],readWatermarkTimestampMs:[0,0],deliveredWatermarkTimestampMs:[0,0],authorityLevel:[0,20],isModerator:!1})}]):c.resolve()},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=!1:(b=a.item,d[14]=b.errorShouldBeShown)})},function(a){return d[14]===!0?(d[16]=c.localizeV2([0,2285622730],f),d[17]=c.localizeV2([0,1919524925],f),c.sp(b("LSIssueNewError"),f,[0,1545093],d[16],d[17])):c.resolve()}]):(e.item,c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(b.threadType,a[2])}),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f})}))})}])},function(e){return c.seq([function(b){return c.islc(c.ftr(c.db.table(12).fetchDesc([[[a[1]]],"messageDisplayOrder"]),function(b){return c.i64.eq(b.threadKey,a[1])&&(c.i64.eq(b.authorityLevel,[0,80])||c.i64.eq(b.authorityLevel,[0,60])||c.i64.eq(b.authorityLevel,[0,40]))}),0,c.i64.to_float([0,1])).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=c.i64.of_float(Date.now()):(b=a.item,d[9]=b.primarySortKey)})},function(e){return a[8]!==f&&(c.i64.eq(a[9],[0,1])||c.i64.eq(a[10],[0,1]))?c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===(a[8]==null?"":a[8])}).next().then(function(e,h){var i=e.done;e=e.value;return i?(i=[a[8],f,f,[0,0],f,f,f,f,f,f,f,f,f,f,f,f],d[33]=i[0],d[34]=i[1],d[35]=i[2],d[36]=i[3],d[37]=i[4],d[38]=i[5],d[39]=i[6],d[40]=i[7],d[41]=i[8],d[42]=i[9],d[43]=i[10],d[44]=i[11],d[45]=i[12],d[46]=i[13],d[47]=i[14],d[48]=i[15],i):(h=e.item,c.seq([function(e){return d[54]=h.senderId,d[53]=h.stickerId,c.i64.neq(d[53],f)?(e=[d[53],[0,4]],d[55]=e[0],d[56]=e[1],e):(e=[f,f],d[55]=e[0],d[56]=e[1],e),e=[d[55],d[56]],d[50]=e[0],d[51]=e[1],e,c.seq([function(e){return c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[56]=a[0],a})},function(b){return c.i64.eq(a[0],d[56])?c.seq([function(b){return c.i64.eq(d[54],d[56])?c.resolve((d[59]=c.localizeV2([0,4002265907],f),d[58]=d[59])):c.seq([function(b){return c.seq([function(b){return c.ftr(c.db.table(14).fetch([[[a[1],d[54]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,d[54])}).next().then(function(b,c){var a=b.done;b=b.value;return a?d[62]=f:(c=b.item,d[62]=c.nickname)})},function(a){return c.ftr(c.db.table(7).fetch([[[d[54]]]]),function(a){return c.i64.eq(a.id,d[54])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?(d[66]=c.localizeV2([0,14617150],f),d[64]=d[66]):(e=b.item,d[64]=e.firstName==null?e.name:e.firstName)})},function(a){return d[59]=d[62]==null?d[64]:d[62]}])},function(a){return d[60]=c.createArray(),d[62]=(d[60].push(d[59]),d[60]),d[61]=c.localizeV2([0,2663996736],d[60]),d[58]=d[61]}])},function(a){return d[57]=d[58]}]):c.seq([function(b){return c.seq([function(b){return c.ftr(c.db.table(14).fetch([[[a[1],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,a[0])}).next().then(function(b,c){var a=b.done;b=b.value;return a?d[60]=f:(c=b.item,d[60]=c.nickname)})},function(b){return c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?(d[64]=c.localizeV2([0,14617150],f),d[62]=d[64]):(e=b.item,d[62]=e.firstName==null?e.name:e.firstName)})},function(a){return d[58]=d[60]==null?d[62]:d[60]}])},function(b){return c.i64.eq(d[54],d[56])?c.resolve((d[60]=c.createArray(),d[62]=(d[60].push(d[58]),d[60]),d[61]=c.localizeV2([0,2868699317],d[60]),d[59]=d[61])):c.seq([function(b){return c.i64.eq(a[0],d[54])?c.resolve((d[61]=c.createArray(),d[63]=(d[61].push(d[58]),d[61]),d[62]=c.localizeV2([0,2688620547],d[61]),d[60]=d[62])):c.seq([function(b){return c.seq([function(b){return c.ftr(c.db.table(14).fetch([[[a[1],d[54]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,d[54])}).next().then(function(b,c){var a=b.done;b=b.value;return a?d[64]=f:(c=b.item,d[64]=c.nickname)})},function(a){return c.ftr(c.db.table(7).fetch([[[d[54]]]]),function(a){return c.i64.eq(a.id,d[54])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?(d[68]=c.localizeV2([0,14617150],f),d[66]=d[68]):(e=b.item,d[66]=e.firstName==null?e.name:e.firstName)})},function(a){return d[61]=d[64]==null?d[66]:d[64]}])},function(a){return d[62]=c.createArray(),d[64]=(d[62].push(d[58]),d[62]),d[64]=(d[62].push(d[61]),d[62]),d[63]=c.localizeV2([0,3544071775],d[62]),d[60]=d[63]}])},function(a){return d[59]=d[60]}])},function(a){return d[57]=d[59]}])},function(a){return d[55]=d[57]}])},function(b){return d[52]=c.i64.eq(a[10],[0,1])?d[55]:""}])},function(b){return b=[a[8],a[9],a[10],[0,1],d[52],d[54],h.text,d[50],d[51],f,f,f,f,f,f,h.replyType],d[33]=b[0],d[34]=b[1],d[35]=b[2],d[36]=b[3],d[37]=b[4],d[38]=b[5],d[39]=b[6],d[40]=b[7],d[41]=b[8],d[42]=b[9],d[43]=b[10],d[44]=b[11],d[45]=b[12],d[46]=b[13],d[47]=b[14],d[48]=b[15],b}]))})},function(a){return a=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],a}]):c.resolve((a[8]===f||c.i64.eq(a[9],[0,0])||c.i64.eq(a[10],[0,0])?(e=[f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e):(e=[a[8],a[9],a[10],[0,1],f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e),e=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=e[0],d[12]=e[1],d[13]=e[2],d[14]=e[3],d[15]=e[4],d[16]=e[5],d[17]=e[6],d[18]=e[7],d[19]=e[8],d[20]=e[9],d[21]=e[10],d[22]=e[11],d[23]=e[12],d[24]=e[13],d[25]=e[14],d[26]=e[15],e))},function(b){return a[13]?d[27]=!1:d[27]=!0,d[27]?(b=[f,f,f,f],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b):(d[33]=a[13].get("mention_offsets"),a[13],d[34]=a[13].get("mention_lengths"),a[13],d[35]=a[13].get("mention_ids"),a[13],d[36]=a[13].get("mention_types"),a[13],b=[d[33],d[34],d[35],d[36]],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b),a[11]?d[32]=[0,3]:d[32]=d[13],c.i64.eq([0,20],[0,20])?c.db.table(12).add({threadKey:a[1],messageId:d[0],timestampMs:d[7],offlineThreadingId:d[0],primarySortKey:d[9],secondarySortKey:d[7],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:[0,1],sendStatusV2:[0,1],authorityLevel:[0,20],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]}):c.seq([function(a){return c.db.table(12).fetch([[[d[0]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[d[9],d[7],f],d[33]=c[0],d[34]=c[1],d[35]=c[2],c):(b=a.item,c=[b.primarySortKey,b.secondarySortKey,b.localDataId],d[33]=c[0],d[34]=c[1],d[35]=c[2],c)})},function(a){return c.fe(c.ftr(c.db.table(12).fetch([[[d[0]]],"optimistic"]),function(a){return a.offlineThreadingId===d[0]&&c.i64.lt(a.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(12).add({threadKey:a[1],messageId:d[0],timestampMs:d[7],offlineThreadingId:d[0],primarySortKey:d[33],secondarySortKey:d[34],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:[0,1],sendStatusV2:[0,1],authorityLevel:[0,20],localDataId:d[35],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]})}])}])},function(e){return d[1]=c.createArray(),d[2]=(d[1].push("LSMailboxLocalApplyOptimisticMessageStoredProcedure"),d[1]),d[3]=(d[1].push("localApplyOptimisticMessage"),d[1]),d[4]=(d[1].push(a[1]),d[1]),d[5]=(d[1].push(d[0]),d[1]),d[6]=c.toJSON(d[1]),function(a){c.logger(a).info(a)}(d[6]),a[14]?c.seq([function(e){return c.sp(b("LSSetMessageViewFlags"),a[1],d[0],d[7],c.i64.eq(a[2],[0,1]))},function(e){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[7],a[3],!1,c.i64.neq(a[6],f))}]):c.resolve()},function(a){return a=[d[0],d[7]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateOptimisticAttachmentPreview",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(16).fetch([[[a[0],a[1],a[2]]]]),function(c){return c.attachmentFbid===a[2]&&b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.authorityLevel,[0,20])}),function(b){var c=b.update;b.item;return c({playableUrl:a[3],playableUrlFallback:a[4],playableUrlExpirationTimestampMs:a[5],playableUrlMimeType:a[6],previewUrl:a[7],previewUrlFallback:a[8],previewUrlExpirationTimestampMs:a[9],previewUrlMimeType:a[10],previewWidth:a[11],previewHeight:a[12]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSOptimisticSendAttachmentForward",["LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[1]=a[3]===""?f:a[3],d[1]!==f?c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[1],d[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===d[1]&&c.i64.eq(b.authorityLevel,[0,20])}),function(b){var d=b.update;b.item;return d({attachmentFbid:c.i64.to_string(a[7])})})},function(a){return d[0]=d[1]}]):c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],f,f,f,f,[0,3],f,f,f,!0).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(e){return c.ftr(c.db.table(16).fetch(),function(b){return b.attachmentFbid===c.i64.to_string(a[7])}).next().then(function(e,h){var i=e.done;e=e.value;return i?c.sp(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),[0,2],f,f,!0,!1):(h=e.item,c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),h.attachmentType,h.filename,h.attributionAppId,!0,!1)},function(e){return c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[2],c.i64.to_string(a[7]),h.playableUrl,h.playableUrlFallback,h.playableUrlExpirationTimestampMs,h.playableUrlMimeType,h.previewUrl,h.previewUrlFallback,h.previewUrlExpirationTimestampMs,h.previewUrlMimeType,h.previewWidth,h.previewHeight)}]))})},function(a){return d[0]=d[2]}])},function(e){return c.seq([function(e){return d[2]=c.createArray(),d[10]=(d[2].push(a[7]),d[2]),c.i64.gt([0,0],[0,0])?d[3]=c.i64.add(c.i64.of_float(Date.now()),[0,0]):d[3]=[0,0],c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],f,f,d[3]).then(function(a){return a=a,d[4]=a[0],a})},function(b){return c.db.table(31).add({taskId:d[4],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[8],sendType:[0,4],markThreadRead:!1,initiatingSource:a[9]})},function(b){return d[5]=c.createArray(),d[6]=(d[5].push("optimisticSendAttachmentForward"),d[5]),d[7]=(d[5].push(a[1]),d[5]),d[8]=(d[5].push(a[7]),d[5]),d[9]=c.toJSON(d[5]),function(a){c.logger(a).info(a)}(d[9])}])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticSendMessageForward",["LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[3],a[4],a[5]]]]),function(b){return c.i64.eq(b.threadKey,a[3])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.timestampMs,a[4])&&b.messageId===a[5]&&c.i64.eq(b.authorityLevel,[0,80])}).next().then(function(e,h){var i=e.done;e=e.value;return i?(d[2]=c.createArray(),d[3]=(d[2].push("optimisticSendMessageForward msg not found"),d[2]),d[4]=(d[2].push(a[5]),d[2]),d[5]=c.toJSON(d[2]),function(a){c.logger(a).mustfix(a)}(d[5]),d[0]=""):(h=e.item,c.seq([function(e){return d[8]=h.forwardScore,d[2]=d[8],c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],h.text,f,f,h.stickerId,h.hotEmojiSize,f,f,[0,3],f,d[2],f,!0).then(function(a){return a=a,d[3]=a[0],d[4]=a[1],a})},function(e){return c.fe(c.db.table(16).fetch([[[h.threadKey,h.messageId]]]),function(e){var h=e.item;return c.seq([function(e){return d[13]=h.attachmentFbid,d[9]=c.createArray(),d[10]=(d[9].push(d[13]),d[9]),d[11]=(d[9].push(d[3]),d[9]),d[12]=c.toJSON(d[9]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[4],d[3],d[13],d[12],h.attachmentType,h.filename,f,h.hasMedia,h.hasXma)},function(e){return c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[3],d[12],h.playableUrl,h.playableUrlFallback,h.playableUrlExpirationTimestampMs,h.playableUrlMimeType,h.previewUrl,h.previewUrlFallback,h.previewUrlExpirationTimestampMs,h.previewUrlMimeType,h.previewWidth,h.previewHeight)}])})},function(e){return c.i64.gt([0,0],[0,0])?d[5]=c.i64.add(c.i64.of_float(Date.now()),[0,0]):d[5]=[0,0],c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],f,f,d[5]).then(function(a){return a=a,d[6]=a[0],a})},function(b){return c.db.table(31).add({taskId:d[6],threadKey:a[1],offlineThreadingId:d[3],messageId:a[5],threadAttributionSource:a[6],sendType:[0,5],markThreadRead:!1,initiatingSource:a[7]})},function(b){return d[9]=new c.Map(),d[10]=d[9].set("optimisticSendMessageForward",a[1]),d[11]=d[9].set("fwdMsgID",a[5]),d[12]=c.toJSON(d[9]),d[7]=d[12],function(a){c.logger(a).info(a)}(d[7]),d[0]=d[3]}]))})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSAppendDataTraceAddon.bs",["LS.bs","LSAppendDataTraceAddon","bs_belt_Option","gkx","killswitch"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h){if(!b("killswitch")("MESSENGER_WEB_DATA_TRACE_ID")&&b("gkx")("1951030"))return b("LSAppendDataTraceAddon")(d,e,f,b("bs_belt_Option").getWithDefault(g,""),b("bs_belt_Option").getWithDefault(h,""),b("LS.bs").make(a));else return window.Promise.resolve(void 0)}f.call=a}),null);
__d("LSOptimisticSendMessage",["LSAppendDataTraceAddon.bs","LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSLogEventAnnotate.bs","LSOptimisticMarkThreadReadV2","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],a[7],a[8],a[14],a[15],a[16],a[17],a[18],a[19],a[21]).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[10]=a[9]===""?f:a[9],d[10]!==f?c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],d[0],d[0],[0,3],d[10],a[10],!0,!1)},function(e){return a[22]?d[11]=!1:d[11]=!0,d[11]?c.resolve():(d[12]=a[22].get("playable_url"),a[22],d[13]=a[22].get("playable_url_fallback"),a[22],d[14]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[15]=a[22].get("playable_url_mime_type"),a[22],d[16]=a[22].get("preview_url"),a[22],d[17]=a[22].get("preview_url_fallback"),a[22],d[18]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[19]=a[22].get("preview_url_mime_type"),a[22],d[20]=a[22].get("preview_width"),a[22],d[21]=a[22].get("preview_height"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[0],d[12],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21]))},function(a){return d[2]=[0,7]}]):c.seq([function(e){return c.i64.neq(a[7],f)?c.seq([function(e){return c.i64.neq(a[7],[53057,267535043])&&c.i64.neq(a[7],[85970,924785702])&&c.i64.neq(a[7],[85970,1004785694])&&c.i64.neq(a[7],[85970,1044785690])?c.seq([function(e){return d[13]=c.i64.to_string(a[7]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],c.i64.to_string(a[7]),d[13],[0,1],f,f,!0,!1)},function(e){return a[22]?d[12]=!1:d[12]=!0,d[12]?c.resolve():(d[14]=a[22].get("playable_url"),a[22],d[15]=a[22].get("playable_url_fallback"),a[22],d[16]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[17]=a[22].get("playable_url_mime_type"),a[22],d[18]=a[22].get("preview_url"),a[22],d[19]=a[22].get("preview_url_fallback"),a[22],d[20]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[21]=a[22].get("preview_url_mime_type"),a[22],d[22]=a[22].get("preview_width"),a[22],d[23]=a[22].get("preview_height"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21],d[22],d[23]))}]):c.resolve()},function(a){return d[11]=[0,2]}]):c.resolve(d[11]=[0,1])},function(a){return d[2]=d[11]}])},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],[0,1],f,[0,0]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return a[24]!==f?c.seq([function(e){return c.sp(b("LSPredefineTraceForTask"),a[24],d[3],c.i64.to_string([0,46]),d[0])},function(d){return c.nop(b("LSAppendDataTraceAddon.bs"),a[24],[0,20],[0,1],f,f)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[3],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[11],externalAttachmentUrl:a[9],platformRef:a[12],platformToken:a[13],replySourceId:a[14],replySourceType:a[15],sendType:d[2],markThreadRead:a[20]==null?!1:a[20],initiatingSource:a[23]})},function(e){return(a[20]==null?!1:a[20])?c.sp(b("LSOptimisticMarkThreadReadV2"),a[1],d[1]):c.resolve()},function(e){return d[4]=c.createArray(),d[5]=(d[4].push("optimisticSendMessage"),d[4]),d[6]=(d[4].push(a[1]),d[4]),d[7]=(d[4].push(d[0]),d[4]),d[8]=c.toJSON(d[4]),function(a){c.logger(a).info(a)}(d[8]),d[9]=new c.Map(),d[9].set("offline_threading_id",d[0]),d[9].set("task_id",d[3]),d[9].set("task_queue_name",c.i64.to_string(a[1])),d[9].set("task_label",c.i64.to_string([0,1])),c.nop(b("LSLogEventAnnotate.bs"),[0,16],[0,23],[0,0],d[9])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MWChatForwardDialogQuery$Parameters",["MWChatForwardDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatForwardDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatForwardDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWBaseTheme.bs",[],(function(a,b,c,d,e,f){"use strict";a={};b={};c={light:a,dark:b,type:"VARIABLES"};d={};f.empty=c;f.Provider=d}),null);
__d("MWCombineThemeConfigs.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{light:Object.assign(a.light,b.light),dark:Object.assign(a.dark,b.dark),type:b.type}}f.combine=a}),null);
__d("LSMessagingThreadAttributionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,65536];b=[0,65537];var g=[0,65538],h=[0,65539],i=[0,65540],j=[0,65541],k=[0,65542],l=[0,65543],m=[0,65544],n=[0,65545],o=[0,65546],p=[0,65547],q=[0,131072],r=[0,131073],s=[0,131074],t=[0,131075],u=[0,196608],v=[0,196609],w=[0,196610],x=[0,196611],y=[0,196612],z=[0,262144],A=[0,262145],B=[0,262146],C=[0,262147],D=[0,262148],E=[0,262149],F=[0,327680],G=[0,327681],H=[0,327682],I=[0,393216],J=[0,393217],K=[0,393218],L=[0,393219],M=[0,393220],N=[0,393221],O=[0,393222],P=[0,393223],Q=[0,393224],R=[0,393225],S=[0,458752],T=[0,458753],U=[0,458754],V=[0,524288],W=[0,524289],X=[0,524290],Y=[0,524291],Z=[0,589824],$=[0,589825],aa=[0,589826],ba=[0,589827],ca=[0,589828],da=[0,655360],ea=[0,655361],fa=[0,720896],ga=[0,720897],ha=[0,786432],ia=[0,786433],ja=[0,786434],ka=[0,786435],la=[0,786436],ma=[0,786437],na=[0,851968],oa=[0,851969],pa=[0,851970],qa=[0,917504],ra=[0,917505],sa=[0,917506],ta=[0,917507],ua=[0,983040],va=[0,1048576],wa=[0,1048577],xa=[0,1048578],ya=[0,1114112],za=[0,1114113],Aa=[0,1114114],Ba=[0,1114115],Ca=[0,1114116],Da=[0,1114117],Ea=[0,1114118],Fa=[0,1179648],Ga=[0,1245184],Ha=[0,1245185],Ia=[0,1245186],Ja=[0,1310720],Ka=[0,1310721],La=[0,1310722],Ma=[0,1310723],Na=[0,1310724],Oa=[0,1310725],Pa=[0,1310726],Qa=[0,1310727],Ra=[0,1310728],Sa=[0,1376256],Ta=[0,1376257],Ua=[0,1376258],Va=[0,1441792],Wa=[0,1441793],Xa=[0,1441794],Ya=[0,1441795],Za=[0,1507328],$a=[0,1507329],ab=[0,1507330],bb=[0,1572864],cb=[0,1572865],db=[0,1572866],eb=[0,1572867],fb=[0,1572868],gb=[0,1572869],hb=[0,1572870],ib=[0,1638400],jb=[0,1638401],kb=[0,1638402],lb=[0,1703936],mb=[0,1703937],nb=[0,1703938],ob=[0,1769472],pb=[0,1769473],qb=[0,1835008],rb=[0,1835009],sb=[0,1835010],tb=[0,1835011],ub=[0,1835012],vb=[0,1900544],wb=[0,1900545],xb=[0,1966080],yb=[0,1966081],zb=[0,1966082],Ab=[0,1966083],Bb=[0,2031616],Cb=[0,2031617],Db=[0,2097152],Eb=[0,2097153],Fb=[0,2097154],Gb=[0,2097155],Hb=[0,2097156],Ib=[0,2162688],Jb=[0,2162689],Kb=[0,2162690],Lb=[0,2162691],Mb=[0,2228224],Nb=[0,2228225],Ob=[0,2228226],Pb=[0,2228227],Qb=[0,2293760],Rb=[0,2293761],Sb=[0,2359296],Tb=[0,2359297],Ub=[0,2424832],Vb=[0,2424833],Wb=[0,2424834],Xb=[0,2424835],Yb=[0,2424836],Zb=[0,2424837],$b=[0,2490368],ac=[0,2490369],bc=[0,2490370],cc=[0,2490371],dc=[0,2490372],ec=[0,2490373],fc=[0,2490374],gc=[0,2490375],hc=[0,2490376],ic=[0,2490377],jc=[0,2490378],kc=[0,2490379],lc=[0,2555904],mc=[0,2555905],nc=[0,2555906],oc=[0,2621440],pc=[0,2686976],qc=[0,2752512],rc=[0,2818048];f.unknown=a;f.unknownTest=c;f.unknownFailureRetry=d;f.messengerInbox=e;f.messengerInboxInThread=b;f.messengerInboxThreadList=g;f.messengerInboxNestedFolder=h;f.messengerInboxRecentThreads=i;f.messengerInboxRemainingThreads=j;f.messengerInboxMessageSearch=k;f.messengerInboxImageSending=l;f.messengerInboxForward=m;f.messengerInboxArchivedThreads=n;f.messengerInboxPendingRequests=o;f.messengerInboxActiveContacts=p;f.messengerUniversalSearch=q;f.messengerUniversalSearchNullState=r;f.messengerUniversalSearchKeyPressed=s;f.messengerUniversalSearchMessageSearch=t;f.montageAndActiveNow=u;f.montageAndActiveNowMontageInboxUnit=v;f.montageAndActiveNowActiveNow=w;f.montageAndActiveNowInboxComposer=x;f.montageAndActiveNowActiveAndHasStory=y;f.messengerActiveNowFriendsTab=z;f.messengerActiveNowFriendsTabFriendsTab=A;f.messengerActiveNowFriendsTabPlaceHolder=B;f.messengerActiveNowFriendsTabRecentActive=C;f.messengerActiveNowFriendsTabRecentActiveAndStory=D;f.messengerActiveNowFriendsTabContentDiscovery=E;f.messengerPendingRequests=F;f.messengerPendingRequestsInboxThreadList=G;f.messengerPendingRequestsPendingRequestsPage=H;f.messengerBroadcastFlow=I;f.messengerBroadcastFlowFromMessenger=J;f.messengerBroadcastFlowFromFb=K;f.messengerBroadcastFlowFromExternal=L;f.messengerBroadcastFlowFromFbNewsfeedSharesheet=M;f.messengerBroadcastFlowFromFbNewsfeedGoodwillComposer=N;f.messengerBroadcastFlowFromFbShortsViewer=O;f.messengerBroadcastFlowForwardGutter=P;f.messengerBroadcastFlowForwardLongclick=Q;f.messengerBroadcastFlowMessengerPhotoView=R;f.messengerOmnipicker=S;f.messengerOmnipickerNullState=T;f.messengerOmnipickerKeyPressed=U;f.messengerNotification=V;f.messengerNotificationInThreadReply=W;f.messengerNotificationLongpressReply=X;f.messengerNotificationLongpressReaction=Y;f.clickToMessengerAd=Z;f.clickToMessengerAdFromNewsfeed=$;f.clickToMessengerAdSendMessageCta=aa;f.clickToMessengerAdViewAndMessage=ba;f.clickToMessengerAdSendMessageCtaNewsfeedCtmAdsCta=ca;f.payments=da;f.paymentsBubbleClick=ea;f.rtc=fa;f.rtcVoipIncall=ga;f.fbPage=ha;f.fbPageAboutCard=ia;f.fbPageProfileHeaderMessageButton=ja;f.fbPageProfileFooterMessageButton=ka;f.fbPageProfileMoreDrawer=la;f.fbPageResponsivenessContextCard=ma;f.fbProfile=na;f.fbProfileTimelineMessageButton=oa;f.fbProfileFacebookProfile=pa;f.fbSearch=qa;f.fbSearchContextualProfileActionBarFromSearch=ra;f.fbSearchSearchMessageButton=sa;f.fbSearchFbMessageSearchResults=ta;f.crypto=ua;f.messengerMontageComposer=va;f.messengerMontageComposerFriendsTab=wa;f.messengerMontageComposerFriendsTabStoryAndActiveNow=xa;f.messengerMontageReply=ya;f.messengerMontageReplyInboxThreadListProfile=za;f.messengerMontageReplyReplyContext=Aa;f.messengerMontageReplyThreadNavBar=Ba;f.messengerMontageReplyInboxThreadListProfileAuthorProfile=Ca;f.messengerMontageReplyReplyContextAuthorProfile=Da;f.messengerMontageReplyThreadNavBarAuthorProfile=Ea;f.messengerThreadMembersList=Fa;f.marketplace=Ga;f.marketplaceActivityBanner=Ha;f.marketplaceSendMessage=Ia;f.fbStory=Ja;f.fbStoryViewerSheetMenu=Ka;f.fbStoryViewerSheetRow=La;f.fbStoryStoriesJewelNotification=Ma;f.fbStoryStoriesPushNotification=Na;f.fbStoryStoriesViewerConsumerReply=Oa;f.fbStoryStoriesViewerConsumerArtifact=Pa;f.fbStoryStoriesPageStoryConversations=Qa;f.fbStorySocialContextConversations=Ra;f.workspeed=Sa;f.workspeedComposerLikeButton=Ta;f.workspeedComposerGifPicker=Ua;f.mdotme=Va;f.mdotmeOrganicPost=Wa;f.mdotmeMarketingEmail=Xa;f.mdotmeMbsOffsiteEmail=Ya;f.customerChatPlugin=Za;f.customerChatPluginMobileRedirect=$a;f.customerChatPluginUpgradeFlow=ab;f.fbFeed=bb;f.fbFeedOrganicPost=cb;f.fbFeedOrganicPostViewAndMessage=db;f.fbFeedQuestionTriggeredConvo=eb;f.fbFeedDynamicHoverCard=fb;f.fbFeedOrganicPostNewsfeedPagePostCta=gb;f.fbFeedOrganicPostNewsfeedBumperSmcta=hb;f.fbNotification=ib;f.fbNotificationJewelNotif=jb;f.fbNotificationPushNotif=kb;f.fbEvent=lb;f.fbEventMessageHost=mb;f.fbEventShareClassMaterials=nb;f.supportResources=ob;f.supportResourcesFrxAction=pb;f.leadGenMessaging=qb;f.leadGenMessagingPreSubmission=rb;f.leadGenMessagingPostSubmission=sb;f.leadGenMessagingCrossChannelVerticalPresentAndroid=tb;f.leadGenMessagingCrossChannelHscrollAndroid=ub;f.messengerGraph=vb;f.messengerGraphSelectContact=wb;f.messengerChat=xb;f.messengerChatFromJewelThreadList=yb;f.messengerChatInThread=zb;f.messengerChatForward=Ab;f.messengerArchivedThreads=Bb;f.messengerArchivedThreadsArchivedThreadsFolder=Cb;f.jewel=Db;f.jewelThreadList=Eb;f.jewelSearch=Fb;f.jewelNewMessage=Gb;f.jewelNestedFolder=Hb;f.chatheads=Ib;f.chatheadsRecentThreads=Jb;f.chatheadsOverflow=Kb;f.chatheadsNewMessage=Lb;f.sidebar=Mb;f.sidebarContactsList=Nb;f.sidebarContactsSearch=Ob;f.sidebarContactsGroups=Pb;f.messengerCommunityMessaging=Qb;f.messengerCommunityMessagingCommunityChannel=Rb;f.fbPlatformLogin=Sb;f.fbPlatformLoginLoginConnectWithMessenger=Tb;f.contactManager=Ub;f.contactManagerContactShare=Vb;f.contactManagerPeopleTabContactList=Wb;f.contactManagerPeopleTabContactSearch=Xb;f.contactManagerIconContactList=Yb;f.contactManagerIconContactSearch=Zb;f.messagingInboxInBlue=$b;f.messagingInboxInBlueThreadList=ac;f.messagingInboxInBluePeoplePicker=bc;f.messagingInboxInBlueInboxIcon=cc;f.messagingInboxInBlueSwipeFromRight=dc;f.messagingInboxInBlueMibNotification=ec;f.messagingInboxInBlueActiveNow=fc;f.messagingInboxInBlueSuggestedChats=gc;f.messagingInboxInBlueChatPreviewBanner=hc;f.messagingInboxInBlueThreadViewCoreNullState=ic;f.messagingInboxInBlueMessageRequests=jc;f.messagingInboxInBlueSpam=kc;f.mibNotification=lc;f.mibNotificationPushNotification=mc;f.mibNotificationJewelNotification=nc;f.messengerRestrictedAccounts=oc;f.armadilloCutoverThreadLinkingMessage=pc;f.callsTab=qc;f.miniShopViewMenuButton=rc}),null);
__d("LSThreadAttributionTypeUtil.bs",["LSMessagingThreadAttributionType.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="communityFriendsDialog"||a==="pagesHomeFriendsDialog"||a==="mutualFriendsDialog"||a==="birthday"||a==="groupMembers"||a==="fundraiserSupportersList"||a==="memories"||a==="feedPoll"||a==="reactorList"||a==="friendsList"||a==="pagesPrivateReply")return b("LSMessagingThreadAttributionType.bs").fbFeedOrganicPost;else if(a==="inboxPendingRequests")return b("LSMessagingThreadAttributionType.bs").messengerInboxPendingRequests;else if(a==="sidebarGroupsList")return b("LSMessagingThreadAttributionType.bs").sidebarContactsGroups;else if(a==="jewel")return b("LSMessagingThreadAttributionType.bs").jewelThreadList;else if(a==="shop")return b("LSMessagingThreadAttributionType.bs").miniShopViewMenuButton;else if(a==="chatheadsOverflow")return b("LSMessagingThreadAttributionType.bs").chatheads;else if(a==="hovercard"||a==="feedDynamicHoverCard")return b("LSMessagingThreadAttributionType.bs").fbFeedDynamicHoverCard;else if(a==="search"||a==="messengerUniversalSearch")return b("LSMessagingThreadAttributionType.bs").messengerUniversalSearch;else if(a==="story"||a==="storyAggregatedUsers"||a==="storySeenByList")return b("LSMessagingThreadAttributionType.bs").fbStory;else if(a==="timeline"||a==="feedOrganicPost")return b("LSMessagingThreadAttributionType.bs").fbFeedOrganicPost;else if(a==="pageAboutCard")return b("LSMessagingThreadAttributionType.bs").fbPageAboutCard;else if(a==="inboxInThread")return b("LSMessagingThreadAttributionType.bs").messengerInboxInThread;else if(a==="notificationInThreadReply")return b("LSMessagingThreadAttributionType.bs").messengerNotificationInThreadReply;else if(a==="archieve")return b("LSMessagingThreadAttributionType.bs").messengerArchivedThreads;else if(a==="storyViewerSheetRow")return b("LSMessagingThreadAttributionType.bs").fbStoryViewerSheetRow;else if(a==="chatheadsNewMessage")return b("LSMessagingThreadAttributionType.bs").chatheadsNewMessage;else if(a==="event")return b("LSMessagingThreadAttributionType.bs").fbEvent;else if(a==="jewelSearch")return b("LSMessagingThreadAttributionType.bs").jewelSearch;else if(a==="inboxSpam"||a==="inboxThreadList"||a==="inboxRestricted")return b("LSMessagingThreadAttributionType.bs").messengerInbox;else if(a==="jewelNewMessage")return b("LSMessagingThreadAttributionType.bs").jewelNewMessage;else if(a==="pendingRequests")return b("LSMessagingThreadAttributionType.bs").messengerPendingRequestsInboxThreadList;else if(a==="sidebarSearch")return b("LSMessagingThreadAttributionType.bs").sidebarContactsSearch;else if(a==="inboxRemainingThreads")return b("LSMessagingThreadAttributionType.bs").messengerInboxRemainingThreads;else if(a==="pagesHeader")return b("LSMessagingThreadAttributionType.bs").fbPageProfileHeaderMessageButton;else if(a==="inboxRecentThreads")return b("LSMessagingThreadAttributionType.bs").messengerInboxRecentThreads;else if(a==="chatheads")return b("LSMessagingThreadAttributionType.bs").chatheadsRecentThreads;else if(a==="pageResponsivenessCard")return b("LSMessagingThreadAttributionType.bs").fbPageResponsivenessContextCard;else if(a==="inboxSearch")return b("LSMessagingThreadAttributionType.bs").messengerInboxMessageSearch;else if(a==="jewelNestedFolder")return b("LSMessagingThreadAttributionType.bs").jewelNestedFolder;else if(a==="marketplace")return b("LSMessagingThreadAttributionType.bs").marketplaceSendMessage;else if(a==="feedOrganicPostViewAndMessage")return b("LSMessagingThreadAttributionType.bs").fbFeedOrganicPostViewAndMessage;else if(a==="adsCta")return b("LSMessagingThreadAttributionType.bs").clickToMessengerAdSendMessageCta;else if(a==="chatInThread")return b("LSMessagingThreadAttributionType.bs").messengerChatInThread;else if(a==="payments")return b("LSMessagingThreadAttributionType.bs").payments;else if(a==="inboxFolder")return b("LSMessagingThreadAttributionType.bs").messengerInboxNestedFolder;else if(a==="inboxArchived")return b("LSMessagingThreadAttributionType.bs").messengerInboxArchivedThreads;else if(a==="inboxActiveContacts")return b("LSMessagingThreadAttributionType.bs").messengerInboxActiveContacts;else if(a==="sidebarContactsList")return b("LSMessagingThreadAttributionType.bs").sidebarContactsList;else return b("LSMessagingThreadAttributionType.bs").unknown}f.toLSThreadAttribution=a}),null);
__d("LSMessagingInitiatingSource.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.facebookChat=a;f.facebookInbox=c;f.roomsSideChat=d}),null);
__d("LSMessagingInitiatingSourceHook.bs",["LSMessagingInitiatingSource.bs","MWLSThreadDisplayContext.bs","bs_belt_Option"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("bs_belt_Option").map(b("MWLSThreadDisplayContext.bs").useHook(void 0),function(a){switch(a){case 0:return b("LSMessagingInitiatingSource.bs").facebookChat;case 1:return b("LSMessagingInitiatingSource.bs").facebookInbox;case 2:return b("LSMessagingInitiatingSource.bs").roomsSideChat}})}f.useHook=a}),null);
__d("MWLSSendMessageUtils.bs",["MWChatMessageId.bs","bs_belt_Option"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("bs_belt_Option").flatMap(a,function(a){a=a.content;switch(a.TAG|0){case 0:case 1:case 2:return b("MWChatMessageId.bs").getMessageId(a._0.messageID)}})}f.getReplySourceId=a}),null);
__d("LSMessageReplySourceType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6];f.none=a;f.message=c;f.story=d;f.forward=e;f.fbStoryShare=b;f.igStoryShare=g;f.lightweightStatus=h}),null);
__d("LSMessageReplySourceTypeV2.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7];f.none=a;f.message=c;f.story=d;f.forward=e;f.fbStoryShare=b;f.igStoryShare=g;f.storyBase64Encoded=h;f.lightweightStatus=i}),null);
__d("LsReplySentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743879");c=b("FalcoLoggerInternal").create("ls_reply_sent",a);e.exports=c}),null);
__d("MWLSLogSend.bs",["CometHeroLogging","LSMessagingInitiatingSource.bs","LsFalcoEventEntryPoint.bs","LsReplySentFalcoEvent","MWChatInteraction.bs","bs_caml","bs_curry","bs_int64","bs_js_dict"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d,e,f){var g=b("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(b("bs_curry")._1(a.getTraceId,void 0),null);b("MWChatInteraction.bs").set(c,g);d!==void 0&&(b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookChat)?a.addMetadata("entrypoint","chat"):b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookInbox)&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",b("bs_int64").to_string(e));a.addMetadata("is_dual_send",f?"true":"false");return a.onComplete(function(a){return b("bs_js_dict").unsafeDeleteKey(b("MWChatInteraction.bs").interactions,c)})}function h(a){if(a){b("LsReplySentFalcoEvent").log(function(){return{funnel:{entry_point:b("LsFalcoEventEntryPoint.bs").messageActions}}});return}}function a(a,b,c,d,e){h(d);return function(d){return g(a,b,c,e,d)}}f.logSentHeroInteraction=g;f.logSent=h;f.logSentWithHeroInteraction=a}),null);
__d("MWLSSendStickerMessage.bs",["LS.bs","LSDict","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSOptimisticSendMessage","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MWLSActor.bs","MWLSLogSend.bs","MWLSSendMessageUtils.bs","MWThread_DEPRECATED.bs","MessagingThreadType.bs","WorkChatMessageType.bs","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d,e){var f=a!==void 0?a:"unknown",g=c!==void 0?b("bs_caml_option").valFromOption(c):void 0,i=b("useReStore")(),j=b("MWLSActor.bs").useActor(void 0);return h.useCallback(function(a){return function(c,e,h){var k=b("LSTransaction.bs").run(i,function(d){var i=b("MWThread_DEPRECATED.bs").toThreadKey(a),k=b("LSThreadAttributionStore.bs").getSource(f,b("bs_int64").to_string(i));k=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(k);return b("LSOptimisticSendMessage")(j,i,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,void 0,void 0,!1,b("bs_caml_format").caml_int64_of_string(c),void 0,void 0,void 0,k,void 0,void 0,b("bs_caml_option").option_get(b("MWLSSendMessageUtils.bs").getReplySourceId(e)),b("LSMessageReplySourceType.bs").message,b("LSMessageReplySourceTypeV2.bs").message,void 0,void 0,void 0,!0,!0,b("LSDict").fromObject({playable_url:void 0,playable_url_fallback:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_mime_type:void 0,preview_url:h,preview_url_fallback:void 0,preview_url_expiration_timestamp_ms:void 0,preview_url_mime_type:void 0,preview_width:b("bs_caml_int64").zero,preview_height:b("bs_caml_int64").zero}),g!==void 0?b("bs_caml_option").valFromOption(g):void 0,void 0,b("LS.bs").make(d))},"readWrite");b("promiseDone")(k,function(a){b("MWLSLogSend.bs").logSent(e!==void 0);if(d!==void 0)return b("bs_curry")._3(d,b("WorkChatMessageType.bs").sticker,1,a[0])},void 0)}},[i,j])}f.useSendStickerMessage=a}),null);
__d("MWChatForwardDialog.entrypoint",["JSResourceForInteraction","MWChatForwardDialogQuery$Parameters","MWXacGating.re","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{forwardQueryReference:{parameters:b("MWChatForwardDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get(),suppress_xac_groups:!c("MWXacGating.re").isGroupsEnabled()}}}}},root:c("JSResourceForInteraction")("MWChatForwardDialog.react").__setRef("MWChatForwardDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatInteractionLog.bs",["QPLUserFlow"],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a,c){var d=Date.now()|0;g.set(c,d);b("QPLUserFlow").start(a,{cancelOnUnload:!0,timeoutInMs:6e4,instanceKey:d})}function c(a,c,d){c=g.get(c);if(!(c==null)){b("QPLUserFlow").endFailure(a,d,{instanceKey:c});return}}function d(a,c){c=g.get(c);if(!(c==null)){b("QPLUserFlow").endSuccess(a,{instanceKey:c});return}}function e(a,c,d){c=g.get(c);if(!(c==null)){b("QPLUserFlow").addPoint(a,d,{instanceKey:c});return}}f.logStartUserFlow=a;f.logFailUserFlow=c;f.logSuccessUserFlow=d;f.logPointUserFlow=e}),null);
__d("MWLSForwardMessage.bs",["LS.bs","LSMediaUrl.bs","LSMessagingInitiatingSourceHook.bs","LSMessagingThreadAttributionType.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticSendAttachmentForward","LSOptimisticSendMessageForward","LSTransaction.bs","MWChatInteractionLog.bs","MWChatThreadId.bs","MWLSActor.bs","MWLSSendStickerMessage.bs","MWLSThreadDisplayContext.bs","MWThread_DEPRECATED.bs","ODS","ReQL.bs","ReQLSuspense","bs_caml_format","bs_caml_option","bs_curry","bs_int64","promiseDone","qpl","useReStore"],(function(a,b,c,d,e,f){"use strict";function g(a){a=b("MWLSThreadDisplayContext.bs").useHook(void 0);if(a!==void 0)if(a===1)return b("LSMessagingThreadAttributionType.bs").messengerInboxForward;else if(a===0)return b("LSMessagingThreadAttributionType.bs").messengerChatForward;else return b("LSMessagingThreadAttributionType.bs").messengerBroadcastFlow;else return b("LSMessagingThreadAttributionType.bs").messengerBroadcastFlow}function a(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0),e=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),f=g(void 0);a=b("MWLSThreadDisplayContext.bs").useHook(void 0);a=a!==void 0?a===1?"inboxInThread":a===0?"chatInThread":"unknown":"unknown";var h=b("MWLSSendStickerMessage.bs").useSendStickerMessage(a,b("bs_caml_option").some(e),void 0,void 0);return function(a,g){var i=b("LSMessagingThreadTypeUtil.bs").ofThreadId(a),j=b("MWThread_DEPRECATED.bs").toThreadKey(a);if(typeof g==="number")return;if(g.TAG===0)return;g=g._0;var k=g.timestamp,l=g.messageId,m=g.threadId;g=b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("messages")),{hd:m,tl:{hd:k,tl:{hd:l,tl:0}}}));var n=function(a){b("ODS").bumpEntityKey(3185,"mwchat_send","forward"),b("MWChatInteractionLog.bs").logPointUserFlow(b("qpl")._(25298392,"4881"),l,"sending"),b("promiseDone")(b("LSTransaction.bs").run(c,function(a){return b("LSOptimisticSendMessageForward")(d,j,i,m,k,l,f,e!==void 0?b("bs_caml_option").valFromOption(e):void 0,b("LS.bs").make(a))},"readWrite"),function(a){b("ODS").bumpEntityKey(3185,"mw_forward","success");return b("MWChatInteractionLog.bs").logSuccessUserFlow(b("qpl")._(25298392,"4881"),l)},function(a){b("MWChatInteractionLog.bs").logFailUserFlow(b("qpl")._(25298392,"4881"),l,"ls_error"),b("ODS").bumpEntityKey(3185,"mw_forward","failure")})};if(g===void 0)return n(void 0);g=g.stickerId;if(g===void 0)return n(void 0);b("MWChatInteractionLog.bs").logPointUserFlow(b("qpl")._(25298392,"4881"),l,"sending");n=b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("attachments")),{hd:m,tl:{hd:l,tl:0}}));n=n!==void 0?b("LSMediaUrl.bs").Attachment.previewUrl(n):void 0;b("ODS").bumpEntityKey(3185,"mwchat_send","sticker");b("MWChatInteractionLog.bs").logSuccessUserFlow(b("qpl")._(25298392,"4881"),l);return b("bs_curry")._4(h,a,b("bs_int64").to_string(g),void 0,n)}}function c(){var a=b("useReStore")(),c=b("MWLSActor.bs").useActor(void 0),d=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),e=g(void 0);return function(f,g,h){b("ODS").bumpEntityKey(3185,"mwchat_send","forward");h!==void 0&&b("MWChatInteractionLog.bs").logPointUserFlow(b("qpl")._(25298392,"4881"),h,"sending");var i=b("LSMessagingThreadTypeUtil.bs").ofThreadId(f),j=b("MWThread_DEPRECATED.bs").toThreadKey(f);b("promiseDone")(b("LSTransaction.bs").run(a,function(a){return b("LSOptimisticSendAttachmentForward")(c,j,i,void 0,void 0,void 0,void 0,b("bs_caml_format").caml_int64_of_string(g),e,d!==void 0?b("bs_caml_option").valFromOption(d):void 0,b("LS.bs").make(a))},"readWrite"),function(a){b("ODS").bumpEntityKey(3185,"mw_forward","success");if(h!==void 0)return b("MWChatInteractionLog.bs").logSuccessUserFlow(b("qpl")._(25298392,"4881"),h)},function(a){h!==void 0&&b("MWChatInteractionLog.bs").logFailUserFlow(b("qpl")._(25298392,"4881"),h,"ls_error"),b("ODS").bumpEntityKey(3185,"mw_forward","failure")})}}d=b("MWChatThreadId.bs").getFBID;f.useForwardMessage=a;f.useForwardAttachment=c;f.targetIdString=d}),null);
__d("MWV2ForwardMessage.bs",["LSInt64.bs","LSMessagingThreadTypeUtil.bs","MAWThreadId.bs","MWChatMessageId.bs","MWLSActor.bs","MWLSForwardMessage.bs","MWThread_DEPRECATED.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_curry","bs_int64","cr:11272","cr:1564","cr:1746","react","unrecoverableViolation","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){return b("ReQLSubscription.bs").useFirstExn(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("threads")),{hd:c.threadKey,tl:0})},[a,JSON.stringify(c.threadKey)]))}function j(a,c){return b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("attachments")),{hd:c.threadKey,tl:{hd:c.messageId,tl:0}})},[a,JSON.stringify(c.threadKey),c.messageId]))}function a(a){var c=b("useReStore")(),d=i(c,a),e=j(c,a),f=b("LSMessagingThreadTypeUtil.bs").isSecure(d.threadType),g=b("MWLSActor.bs").useActor(void 0),k=b("bs_caml").i64_neq(g,a.senderId),l=b("MWLSForwardMessage.bs").useForwardMessage(void 0),m=b("cr:11272")==null?void 0:b("bs_curry")._1(b("cr:11272").useForwardMessage,c),n=b("cr:1564")==null?void 0:b("bs_curry")._1(b("cr:1564").useForwardMessage,c),o=b("cr:1746")==null?void 0:b("bs_curry")._1(b("cr:1746").useForwardMessage,c),p=b("MWChatMessageId.bs").makeSent(b("bs_int64").to_string(a.threadKey),a.messageId,b("bs_int64").to_string(a.timestampMs)),q=function(c){var f=b("MAWThreadId.bs").isThreadId(b("MWThread_DEPRECATED.bs").toThreadKey(c));if(o!==void 0&&!f)return b("bs_curry")._6(o,c,d,a,k,e,g);if(m!==void 0)return b("bs_curry")._2(m,c,a.messageId);else return b("unrecoverableViolation")("We won't reach to this step, if you are in QE, you should use secure forward","messenger_web_product")},r=function(c){var f=b("MAWThreadId.bs").isThreadId(b("MWThread_DEPRECATED.bs").toThreadKey(c));if(n!==void 0&&f)return b("bs_curry")._5(n,c,d,a,k,e);else return b("bs_curry")._2(l,c,p)};return h.useMemo(function(){if(f)return q;else return r},[f,q,r,b("LSInt64.bs").string(d.threadKey),a.messageId])}f.$MAWForwardMessage$requireCond=b("cr:11272");f.$MAWForwardMessageFromSecureThread$requireCond=b("cr:1746");f.$MAWFowardMessageFromOpenThread$requireCond=b("cr:1564");f.useForwardMessage=a}),null);
__d("MWChatInteractionLog.re",["MWChatInteractionLog.bs","bs_curry"],(function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("MWChatInteractionLog.bs").logStartUserFlow,a,c);return a};f.logStartUserFlow=a}),null);
__d("useMWChatForward",["MWChatForwardDialog.entrypoint","MWChatInteractionLog.re","MWChatMessageId.re","qpl","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef;function a(a){var b=a.forwardDialogType,e=a.messageID,f=a.onClose,g=a.onSend;a=i(null);var j=c("useCometEntryPointDialog")(c("MWChatForwardDialog.entrypoint"),{}),k=j[0];j=h(function(){var a=d("MWChatMessageId.re").getMessageId(e);a!=null&&d("MWChatInteractionLog.re").logStartUserFlow(c("qpl")._(25298392,"4881"),a);k({forwardDialogType:b,messageID:e,onSend:g},f)},[g,k,e,f,b]);return{onClick:j,triggerRef:a}}g["default"]=a}),98);
__d("LsTargetType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").neg_one;c=b("bs_caml_int64").zero;d=b("bs_caml_int64").one;e=[0,2];b=[0,3];var g=[0,4],h=[0,5],i=[0,6],j=[0,7],k=[0,8],l=[0,9],m=[0,10],n=[0,11],o=[0,12],p=[0,13],q=[0,14],r=[0,15],s=[0,16],t=[0,17],u=[0,18],v=[0,19],w=[0,20],x=[0,21],y=[0,22],z=[0,23],A=[0,24],B=[0,25],C=[0,26],D=[0,27],E=[0,28],F=[0,29],G=[0,30],H=[0,31],I=[0,32],J=[0,33],K=[0,34],L=[0,35],M=[0,36],N=[0,37],O=[0,38],P=[0,39],Q=[0,40],R=[0,41],S=[0,42],T=[0,43],U=[0,44],V=[0,45],W=[0,46],X=[0,47],Y=[0,48],Z=[0,49],$=[0,50],aa=[0,51],ba=[0,52],ca=[0,53],da=[0,54],ea=[0,55],fa=[0,56],ga=[0,57],ha=[0,58],ia=[0,59],ja=[0,60],ka=[0,61],la=[0,62],ma=[0,63],na=[0,64],oa=[0,65],pa=[0,66],qa=[0,67],ra=[0,68],sa=[0,69],ta=[0,70];f.cymkAdd=a;f.cymkViewProfile=c;f.cymkWave=d;f.inboxleft=e;f.inboxleftCall=b;f.inboxleftCamera=g;f.inboxleftRtc=h;f.inboxright=i;f.inboxrightDelete=j;f.inboxrightMore=k;f.inboxrightMute=l;f.inboxrightUnmute=m;f.instantGamePlayGame=n;f.messageRequestAccept=o;f.messageRequestDecline=p;f.messengerAdsCta=q;f.rtcCanonicalCallAgain=r;f.rtcCanonicalCallBack=s;f.rtcGroupCallJoinCall=t;f.rtcGroupJoinVideoChat=u;f.rtcScheduledCall=v;f.seeAll=w;f.reaction=x;f.reactionPlus=y;f.mention=z;f.replyMessage=A;f.replyButton=B;f.phoneNumber=C;f.attachmentVideo=D;f.attachmentImage=E;f.attachmentGif=F;f.voiceClip=G;f.tombstoneView=H;f.messageBubble=I;f.attachmentAudio=J;f.attachmentKeyframe=K;f.xmaWebUrl=L;f.xmaRtcMissedVideo=M;f.xmaRtcMissedAudio=N;f.xmaLiveLocation=O;f.xmaLocationSharing=P;f.forwardIcon=Q;f.xmaOpenNative=R;f.sticker=S;f.address=T;f.forwardButton=U;f.removeButton=V;f.removeForYouself=W;f.removeForEveryone=X;f.moreButton=Y;f.copyButton=Z;f.callPhoneNumber=$;f.copyPhoneNumber=aa;f.messageProfileIcon=ba;f.viewFacebookProfile=ca;f.viewIgProfile=da;f.gotToChat=ea;f.xmaRtcVideoEnded=fa;f.xmaRtxAudioEnded=ga;f.saveButton=ha;f.confirmRemove=ia;f.cancelRemove=ja;f.xmaShopsPdp=ka;f.inboxrightArchive=la;f.reactionIcon=ma;f.xmaContactShare=na;f.xmaCustomerInformationTemplate=oa;f.xmaRtcMissedGroupVideo=pa;f.xmaRtcMissedGroupAudio=qa;f.xmaRtcNewAudioDefault=ra;f.xmaAppointmentRequested=sa;f.xmaAppointmentConfirmed=ta}),null);
__d("UseMWChatForward.re",["useMWChatForward"],(function(a,b,c,d,e,f){var g=b("useMWChatForward");f.useMWChatForwardTypeChecked=g;a=function(a){a=g(a);return a==null?void 0:a};f.useMWChatForward=a}),null);
__d("MWChatForwardAction.bs",["CometPressable.react","LsTargetType.bs","MWChatColors.bs","MWLSLogMessageClick.bs","MWTooltip.react","ODS","UseMWChatForward.re","bs_caml_option","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("MWChatColors.bs").MessageActions.styles,k={icon:{opacity:"pedkr2u6"}};function l(a){}var m=i.jsx("svg",{height:"22px",width:"22px",viewBox:"0 0 36 36",children:i.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:[i.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),i.jsx("path",{className:(h||(h=b("stylex")))(j.svgFill),d:"M22.001,11.0081937 L19,11.0081937 L19,23.007676 C19,23.5599911 18.5525,24.0073413 18,24.0073413 C17.448,24.0073413 17,23.5599911 17,23.007676 L17,11.0081937 L13.998,11.0081937 C13.199,11.0081937 12.7225,10.1169921 13.166,9.45171483 L17.1675,3.44572576 C17.5635,2.85142475 18.436,2.85142475 18.832,3.44572576 L22.8335,9.45171483 C23.2765,10.1169921 22.8,11.0081937 22.001,11.0081937 M24,31 L12,31 C9.791,31 8,29.2105991 8,27.0028383 L8,18.0103492 C8,15.8030883 9.791,14.0131875 12,14.0131875 L14,14.0131875 C14.5525,14.0131875 15,14.4610376 15,15.0128528 C15,15.5646681 14.5525,16.0120183 14,16.0120183 L12,16.0120183 C10.8955,16.0120183 10,16.9067187 10,18.0103492 L10,27.0028383 C10,28.1064688 10.8955,29.0011693 12,29.0011693 L24,29.0011693 C25.1045,29.0011693 26,28.1064688 26,27.0028383 L26,18.0103492 C26,16.9067187 25.1045,16.0120183 24,16.0120183 L22,16.0120183 C21.448,16.0120183 21,15.5646681 21,15.0128528 C21,14.4610376 21.448,14.0131875 22,14.0131875 L24,14.0131875 C26.2095,14.0131875 28,15.8030883 28,18.0103492 L28,27.0028383 C28,29.2105991 26.2095,31 24,31"})]})});function n(a,c){b("ODS").bumpEntityKey(3185,"mwchat_actions","forward");b("MWLSLogMessageClick.bs").logMessageClicked(a,b("LsTargetType.bs").forwardIcon,void 0,void 0);if(c!==void 0)return b("bs_curry")._1(c.onClick,void 0)}function a(a){var c=a.onForward,d=a.label,e=a.messageID;a=a.forwardDialogType;a=a!==void 0?a:"open_";c=b("UseMWChatForward.re").useMWChatForward({onClose:l,onSend:b("bs_curry").__1(c),messageID:e,forwardDialogType:a});var f=c==null?void 0:b("bs_caml_option").some(c);return i.jsx(b("MWTooltip.react"),{tooltip:d,align:"middle",position:"above",children:i.jsx("div",{className:(h||(h=b("stylex")))(j.action),children:i.jsx(b("CometPressable.react"),{"aria-label":d,role:b("gkx")("1224637")?"menuitem":"button",expanding:!0,testid:"messenger_forward_menu_button",onPress:function(a){return n(e,f)},overlayDisabled:!0,children:i.jsx("div",{className:h(j.icon,k.icon),children:m})})})})}c=a;f.sharedStyles=j;f.styles=k;f.noop=l;f.icon=m;f.onOpenForwardDialog=n;f.make=c}),null);
__d("MWMessageCellKeyCommands.bs",["CometComponentWithKeyCommands.react","MWV2MessageRowActionsContext.bs","bs_curry","cometGetKeyCommandConfig","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c;a=a.children;var d=h.useContext((c=b("MWV2MessageRowActionsContext.bs")).context),e=d.openReactionsMenu,f=h.useCallback(function(a){return b("bs_curry")._1(e.current,void 0)},[e]);d=h.useContext(c.context);var g=d.replyToMessage,i=h.useCallback(function(a){return b("bs_curry")._1(g.current,void 0)},[g]);d=h.useContext(c.context);var j=d.forwardMessage,k=h.useCallback(function(a){return b("bs_curry")._1(j.current,void 0)},[j]);d=h.useContext(c.context);var l=d.removeMessage,m=h.useCallback(function(a){return b("bs_curry")._1(l.current,void 0)},[l]);c=h.useMemo(function(){var a,c=[],d=(a=b("cometGetKeyCommandConfig")).getCometAndGeminiKeyCommandConfig("chats","likeMessage",f);c.push(d);d=a.getCometAndGeminiKeyCommandConfig("chats","replyToMessage",i);c.push(d);d=a.getCometAndGeminiKeyCommandConfig("chats","forwardMessage",k);c.push(d);d=a.getCometAndGeminiKeyCommandConfig("chats","removeMessage",m);c.push(d);return c},[f,i,k,m]);return h.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:c,xstyle:!1,children:a})}c=a;f.keyCommands=c}),null);
__d("MWPBaseMessageListRowActions.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{alignItems:"bp9cbjyn",width:"jcr6t5e3",display:"j83agx80"},outgoing:{flexDirection:"rl25f0pe"},incoming:{flexDirection:"btwxx1t3"}};function k(a){var c=a.outgoing;a=a.children;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.root,c?j.outgoing:j.incoming),children:a})}d={make:k};function a(a){a=a.children;return i.jsx("div",{children:a})}e={make:a};var l={root:{flexShrink:"pfnyh3mw",display:"j83agx80",flexDirection:"cbu4d94t",width:"jcr6t5e3",justifyContent:"taijpn5t",flexGrow:"buofh1pr",position:"l9j0dhe7",zIndex:"s90hwng2"},moveUpToAccountForReactions:{paddingBottom:"jfpizvyy"},outgoing:{paddingEnd:"jxrgncrl"},incoming:{paddingStart:"qnrpqo6b"}};function c(a){var c=a.children,d=a.hasReactions,e=a.outgoing;a=a.ariaHidden;a=a!==void 0?a:!1;return i.jsx("div",{"aria-hidden":a,className:(h||(h=b("stylex")))(l.root,d?l.moveUpToAccountForReactions:!1,e?l.outgoing:l.incoming),children:i.jsx(k,{outgoing:e,children:c})})}a={styles:l,make:c};f.ActionsList=d;f.ActionsListItem=e;f.Container=a}),null);
__d("MDSContextualMenuIcon.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return h.jsxs("svg",{width:"22px",height:"22px",viewBox:"0 0 22 22",children:[h.jsx("circle",{cx:"11",cy:"6",r:"2",strokeWidth:"1px",fill:"var(--placeholder-icon)"}),h.jsx("circle",{cx:"11",cy:"11",r:"2",strokeWidth:"1px",fill:"var(--placeholder-icon)"}),h.jsx("circle",{cx:"11",cy:"16",r:"2",strokeWidth:"1px",fill:"var(--placeholder-icon)"})]})}c=a;f.make=c}),null);
__d("MWV2MessageRowIsRowFocusedContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){}function c(a){}e={setFocused:a,setIsDialogOpened:c,isDialogOpened:!1};var i=h.createContext(e);function d(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{value:a,children:b})}b={make:d};f.emptyValue=e;f.context=i;f.Provider=b}),null);
__d("MWV2ContextualActionsButton.bs",["fbt","CometDeferredPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LsTargetType.bs","MAWGating.bs","MDSContextualMenuIcon.bs","MWCMThreadTypes.bs","MWLSActor.bs","MWLSFeatureLimitedStatus.bs","MWPCanRemoveMessageGlobally.bs","MWTooltip.react","MWV2LogMessageClick.bs","MWV2MessageRowActionsContext.bs","MWV2MessageRowIsRowFocusedContext.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_obj","bs_caml_option","bs_curry","gkx","react","requireDeferred","stylex","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=b("requireDeferred")("MWV2ContextualActionsMenuDeferred.react").__setRef("MWV2ContextualActionsButton.bs"),l={action:{marginStart:"hcukyx3x",marginEnd:"cxmmr5t8",width:"b73ngqbp",height:"rgmg9uty",display:"j83agx80",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",flexShrink:"pfnyh3mw",alignContent:"n5ue3fu6",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",textAlign:"oqcyycmt",cursor:"nhd2j8a9",":hover":{backgroundColor:"opvtebq1"},position:"l9j0dhe7"},icon:{height:"p1ueia1e",width:"pgctjfs5",opacity:"l8rlqa9s",":active":{opacity:"sh06z9xi"},":hover":{opacity:"i2p6rm4e"}}};function m(a){}function a(a){var c=a.message,d=a.thread,e=a.showForwardActionInContextualMenu,f=a.showReplyActionInContextualMenu,h=a.canRemoveMessageGlobally,n=a.closeActionsMenu,o=a.setMoreMenuOpen;a=a.extraActions;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;var p=b("useReStore")(),q=g._(/*FBT_CALL*/"Xem th\u00eam"/*FBT_CALL*/),r=b("MWPCanRemoveMessageGlobally.bs").make(d,c),s=b("MWCMThreadTypes.bs").isJoinedCMThread(d.threadType),t=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){if(s)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(p.table("participants")),{hd:d.threadKey,tl:{hd:c.senderId,tl:0}});else return b("SortedAsyncIterable.bs").empty(void 0)},[p,JSON.stringify(d.threadKey)])),u=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").adminRecallMessage,d),v=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").reportMessageToAdmin,d),w=b("LSMessagingThreadTypeUtil.bs").isSecure(d.threadType),x=(!w||b("MAWGating.bs").isFeatureLimitEnabled(void 0))&&b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0),y=!x&&b("gkx")("1840885"),z=b("MWLSActor.bs").useActor(void 0),A=c.isUnsent;A=s?A?!1:r?!0:u:w?!x&&(b("MAWGating.bs").isUnsendGlobalEnabled(void 0)&&b("bs_caml").i64_eq(c.senderId,z)&&!c.isUnsent||b("MAWGating.bs").isUnsendLocallyEnabled(void 0)):y;r=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWV2RemoveMessageDialog").__setRef("MWV2ContextualActionsButton.bs"));var B=r[0];u=t!==void 0?b("bs_belt_Option").getWithDefault(t.isAdmin,!1):!1;w=c.unsentTimestampMs;x=w!==void 0;y=b("MWCMThreadTypes.bs").isJoinedCMThread(d.threadType)&&v&&!u&&b("bs_caml").i64_neq(z,c.senderId)&&!x;r=b("MWCMThreadTypes.bs").isJoinedCMThread(d.threadType)&&b("bs_caml").i64_neq(z,c.senderId)&&!x;t=j.useCallback(function(a){a={message:c,onClose:m};return B(a,m)},[c,B]);w=j.useContext(b("MWV2MessageRowActionsContext.bs").context);var C=w.removeMessage;A?C.current=t:C.current=m;var D=j.useCallback(function(a){if(b("gkx")("3417")){C.current=m;return}},[C]);j.useEffect(function(){return D},[D]);v=j.useContext(b("MWV2MessageRowIsRowFocusedContext.bs").context);if(!(e||f||A||r||b("bs_caml_obj").caml_notequal(a,null)))return null;var E=v.setFocused;return j.jsx(b("CometDeferredPopoverTrigger.react"),{onVisibilityChange:function(a){b("bs_curry")._1(o,function(b){return a});return b("bs_curry")._1(E,function(b){return a})},popoverResource:k,popoverProps:{showForwardActionInContextualMenu:e,showReplyActionInContextualMenu:f,showUnsendInContextualMenu:A,showReportCommunityMessageToAdmin:y,showReportCommunityMessageToFacebook:r,canRemoveMessageGlobally:h,closeActionsMenu:n,message:c,extraActions:a},popoverType:"menu",align:"middle",position:"above",children:function(a,d){var e=function(a){b("bs_curry")._1(d,void 0);return b("MWV2LogMessageClick.bs").log(c,b("LsTargetType.bs").moreButton,void 0,void 0)};return j.jsx(b("MWTooltip.react"),{tooltip:q,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":q,expanding:!0,ref:a,testid:"messenger_contextual_actions_button",onPress:e,overlayDisabled:!0,children:j.jsx("div",{className:(i||(i=b("stylex")))(l.action),children:j.jsx("div",{className:i(l.icon),children:j.jsx(b("MDSContextualMenuIcon.bs").make,{})})})})})}})}c=a;f.contextualActionsMenuDeferred=k;f.styles=l;f.noop=m;f.make=c}),null);
__d("MWV2ForwardMessageButton.bs",["fbt","LSMessagingThreadTypeUtil.bs","MAWGating.bs","MWChatForwardAction.bs","MWChatMessageId.bs","MWV2ForwardMessage.bs","ReQL.bs","ReQLSubscription.bs","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a,c){var d=b("useReStore")();return b("ReQLSubscription.bs").useFirstExn(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("threads")),{hd:c.threadKey,tl:0})},[d,JSON.stringify(c.threadKey)]))}function a(a){a=a.message;var c=b("useReStore")();c=j(c,a);c=b("MAWGating.bs").isForwardEnabled(void 0)&&b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType);var d=b("MAWGating.bs").isCrossForwardEnabled(void 0);c=c?d?"cross_transport":"secure":d?"cross_transport":"open_";d=b("MWChatMessageId.bs").makeSent(b("bs_int64").to_string(a.threadKey),a.messageId,b("bs_int64").to_string(a.timestampMs));a=b("MWV2ForwardMessage.bs").useForwardMessage(a);return i.jsx(b("MWChatForwardAction.bs").make,{onForward:a,label:g._(/*FBT_CALL*/"Chuy\u1ec3n ti\u1ebfp"/*FBT_CALL*/),messageID:d,forwardDialogType:c})}c=a;f.make=c}),null);
__d("MWV2MessageReactionButton.bs",["LSMessagingThreadTypeUtil.bs","MAWGating.bs","MAWPSendOrRemoveReaction.bs","MWCMThreadTypes.bs","MWCMUseFolder.bs","MWChatMessageId.bs","MWChatReactionsAction.bs","MWLSActor.bs","MWLSFeatureLimitedStatus.bs","MessagingLoggingUtilsAttachmentTypeInt.bs","ReQL.bs","ReQLSubscription.bs","bs_curry","bs_int64","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("requireDeferred")("MWCMLogCommunityConversion.bs").__setRef("MWV2MessageReactionButton.bs");function j(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0),e=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("reactions")),{hd:a.threadKey,tl:{hd:a.messageId,tl:{hd:d,tl:0}}})},[c,a.messageId,JSON.stringify(a.threadKey),d]));if(e!==void 0)return e.reaction}function k(a,c,d){i.onReady(function(e){return b("bs_curry")._4(e.log,a,c,!0,d)})}function a(a){var c=a.message,d=a.thread,e=a.setReactionsMenuOpen;a=a.closeActionsMenu;var f=j(c),g=b("LSMessagingThreadTypeUtil.bs").isSecure(d.threadType),i=b("MAWPSendOrRemoveReaction.bs").useSendOrRemoveReaction(c,g,"reaction_tray"),l=b("MWCMUseFolder.bs").useHook(d),m=l!==void 0?b("bs_int64").to_string(l.fbGroupId):"",n=b("MWCMThreadTypes.bs").isAnyCMThread(d.threadType);l=(!g||b("MAWGating.bs").isFeatureLimitEnabled(void 0))&&b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0);if(l)return null;else return h.jsx(b("MWChatReactionsAction.bs").make,{onVisibilityChange:function(a){return b("bs_curry")._1(e,function(b){return a})},sendReaction:function(a,e){n&&!e&&k(b("MessagingLoggingUtilsAttachmentTypeInt.bs").reaction,b("bs_int64").to_string(d.threadKey),m);return b("bs_curry")._3(i,c.messageId,e?void 0:a,e?"remove_reaction":"reaction")},selectedReaction:f,closeActionsMenu:a,messageID:b("MWChatMessageId.bs").makeSent(b("bs_int64").to_string(c.threadKey),c.messageId,b("bs_int64").to_string(c.timestampMs))})}c=a;f.$MWCMLogCommunityConversion$Deferred=i;f.make=c}),null);
__d("MWV2OneToOneThreadBlockedContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(!1);function a(a){return h.useContext(i)}function c(a){var b=a.children;a=a.blocked;return h.createElement(i.Provider,{value:a,children:b})}d=c;f.context=i;f.useIsBlocked=a;f.make=d}),null);
__d("MDSReplyActionSvgIcon.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={icon:{fill:"m50y4xls"}};function a(a){return i.jsx("svg",{width:"22px",height:"22px",viewBox:"1 1 21 21",children:i.jsx("g",{strokeWidth:"1",fillRule:"evenodd",className:(h||(h=b("stylex")))(j.icon),children:i.jsx("path",{d:"M10.8932368,14.7625445 C10.8932368,15.535432 10.0849567,15.996442 9.48116675,15.5677995 L4.03193175,11.696707 C3.49257425,11.313742 3.49287675,10.4694645 4.03193175,10.0864995 L9.48116675,6.2157095 C10.0849567,5.7867645 10.8932368,6.248077 10.8932368,7.020662 L10.8938418,9.0755445 C15.2129368,9.0755445 18.1517243,11.027577 18.1523293,15.7226795 C18.1523293,16.0820495 17.9036743,16.3349395 17.5273643,16.3349395 C17.2487618,16.3349395 17.0164418,16.1746145 16.8527893,15.680027 C16.1588543,13.584307 14.1063918,12.7049395 10.8938418,12.7049395 L10.8932368,14.7625445 Z"})})})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2ReplyButton.bs",["fbt","CometPressable.react","MDSReplyActionSvgIcon.bs","MWTooltip.react","MWV2MessageRowActionsContext.bs","MWV2ReplyContext.bs","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={action:{marginStart:"hcukyx3x",marginEnd:"cxmmr5t8",width:"b73ngqbp",height:"rgmg9uty",display:"j83agx80",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",flexShrink:"pfnyh3mw",alignContent:"n5ue3fu6",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",textAlign:"oqcyycmt",cursor:"nhd2j8a9",":hover":{backgroundColor:"opvtebq1"},position:"l9j0dhe7"},icon:{height:"p1ueia1e",width:"pgctjfs5",opacity:"l8rlqa9s",":active":{opacity:"sh06z9xi"},":hover":{opacity:"i2p6rm4e"}}};function l(a){}function a(a){var c=a.message;a=g._(/*FBT_CALL*/"Tr\u1ea3 l\u1eddi"/*FBT_CALL*/);var d=j.useContext(b("MWV2ReplyContext.bs").context),e=d.setReply,f=function(a){return b("bs_curry")._2(e,{messageId:c.messageId,timestampMs:c.timestampMs,sendStatusV2:c.sendStatusV2,offlineThreadingId:c.offlineThreadingId},c.threadKey)};d=j.useContext(b("MWV2MessageRowActionsContext.bs").context);var h=d.replyToMessage;h.current=f;var m=j.useCallback(function(a){if(b("gkx")("3417")){h.current=l;return}},[h]);j.useEffect(function(){return m},[m]);return j.jsx(b("MWTooltip.react"),{tooltip:a,align:"middle",position:"above",children:j.jsx("div",{className:(i||(i=b("stylex")))(k.action),children:j.jsx(b("CometPressable.react"),{"aria-label":a,expanding:!0,testid:"messenger_reply_menu_button",onPress:function(a){return f(void 0)},overlayDisabled:!0,children:j.jsx("div",{className:i(k.icon),children:j.jsx(b("MDSReplyActionSvgIcon.bs").make,{})})})})})}c=24;d=a;f.minMessageHeight=c;f.styles=k;f.noop=l;f.make=d}),null);
__d("MWV2UseMessageForwardAction.bs",["LSMessagingThreadTypeUtil.bs","LsTargetType.bs","MAWGating.bs","MWChatMessageId.bs","MWV2ForwardMessage.bs","MWV2LogMessageClick.bs","MWV2MessageRowIsRowFocusedContext.bs","UseMWChatForward.re","bs_curry","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){a=b("MAWGating.bs").isForwardEnabled(void 0)&&b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType);var d=b("MAWGating.bs").isCrossForwardEnabled(void 0);a=a?d?"cross_transport":"secure":d?"cross_transport":"open_";d=b("MWChatMessageId.bs").makeSent(b("bs_int64").to_string(c.threadKey),c.messageId,b("bs_int64").to_string(c.timestampMs));var e=b("MWV2ForwardMessage.bs").useForwardMessage(c),f=h.useContext(b("MWV2MessageRowIsRowFocusedContext.bs").context),g=f.setIsDialogOpened,i=f.setFocused,j=b("UseMWChatForward.re").useMWChatForward({onClose:function(a){b("bs_curry")._1(g,function(a){return!1});return b("bs_curry")._1(i,function(a){return!0})},onSend:e,messageID:d,forwardDialogType:a});return function(a){b("MWV2LogMessageClick.bs").log(c,b("LsTargetType.bs").forwardButton,void 0,void 0);if(!(j==null)){b("bs_curry")._1(g,function(a){return!0});return b("bs_curry")._1(j.onClick,void 0)}}}f.useHook=a}),null);
__d("MWMessageRowActions.bs",["LSAuthorityLevel.bs","LSBitFlag.bs","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSMessageContentType.bs","LSMessageSendStatusV2.bs","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating.bs","MAWMsg.bs","MWLSFeatureLimitedStatus.bs","MWPBaseMessageListRowActions.bs","MWTooltipGroup.react","MWV2ContextualActionsButton.bs","MWV2ForwardMessageButton.bs","MWV2MessageReactionButton.bs","MWV2MessageRowActionsContext.bs","MWV2OneToOneThreadBlockedContext.bs","MWV2ReplyButton.bs","MWV2UseMessageForwardAction.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","cr:10871","gkx","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("useReStore")();return b("ReQLSubscription.bs").useFirstExn(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("threads")),{hd:a.threadKey,tl:0})},[c,JSON.stringify(a.threadKey)]))}var j=b("cr:10871")==null?void 0:b("bs_caml_option").some(b("cr:10871"));function k(a){}function l(a){var c=a.message,d=a.outgoing,e=a.setMoreMenuOpen,f=a.setReactionsMenuOpen,g=a.interactedWith,l=a.alwaysShowForwardForMediaMessages,m=a.closeActionsMenu,n=a.canRemoveMessageGlobally;a=a.extraActions;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;var o=i(c),p=b("MWV2OneToOneThreadBlockedContext.bs").useIsBlocked(void 0),q=b("useReStore")(),r=o.threadKey,s=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(q.table("contacts")),{hd:r,tl:0})},[JSON.stringify(r),q]));s=s!==void 0?b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").restrictPlaced,s),!1):!1;var t=c.ephemeralDurationInSec;t=t!==void 0?b("bs_caml").i64_gt(t,b("bs_caml_int64").zero):!1;var u=b("LSMessagingThreadTypeUtil.bs").isSecure(o.threadType),v=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0)&&(!u||b("MAWGating.bs").isFeatureLimitEnabled(void 0)),w=b("bs_caml").i64_eq(c.displayedContentTypes,b("LSMessageContentType.bs").sticker);t=(u?b("MAWGating.bs").isForwardEnabled(void 0)&&!t&&!w:!0)&&b("gkx")("1844772")&&!p&&!s&&!v&&!c.isUnsent&&!b("MAWMsg.bs").isPlaceholder(c)&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").messageForward,o)&&b("bs_caml").i64_gt(c.authorityLevel,b("LSAuthorityLevel.bs").optimistic);w=!p&&!s&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").messageReply,o)&&!c.isUnsent;v=!p&&!s&&!c.isUnsent&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").reactions,o)&&(u?b("MAWGating.bs").isReactionsEnabled(void 0):!0);p=w&&!l&&g;s=l&&t;l=g&&v;v=u&&b("bs_caml").i64_eq(c.sendStatusV2,b("LSMessageSendStatusV2.bs").retriableError);u=b("MWV2UseMessageForwardAction.bs").useHook(o,c);var x=h.useContext(b("MWV2MessageRowActionsContext.bs").context),y=x.forwardMessage;t&&(y.current=u);var z=h.useCallback(function(a){if(b("gkx")("3417")){y.current=k;return}},[y]);h.useEffect(function(){return z},[z]);return h.jsxs(b("MWPBaseMessageListRowActions.bs").ActionsList.make,{outgoing:d,children:[s?h.jsx(b("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(b("MWV2ForwardMessageButton.bs").make,{message:c})}):null,l?h.jsx(b("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(b("MWV2MessageReactionButton.bs").make,{message:c,thread:o,setReactionsMenuOpen:f,closeActionsMenu:m})}):null,!(b("cr:10871")==null)&&v?h.jsx(b("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(j.make,{message:c})}):null,p?h.jsx(b("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(b("MWV2ReplyButton.bs").make,{message:c})}):null,g?h.jsx(b("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(b("MWV2ContextualActionsButton.bs").make,{message:c,thread:o,showForwardActionInContextualMenu:!s&&t,showReplyActionInContextualMenu:!p&&w,canRemoveMessageGlobally:n,closeActionsMenu:m,setMoreMenuOpen:e,extraActions:a})}):null]})}c={noop:k,make:l};function a(a){var c=a.message,d=a.focused,e=a.hovered,f=a.hasReactions,g=a.outgoing,i=a.ariaHidden,j=a.canRemoveMessageGlobally;a=a.extraActions;i=i!==void 0?i:!1;j=j!==void 0?j:!0;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;var k=h.useState(function(){return!1}),m=h.useState(function(){return!1}),n=b("LSBitFlag.bs").has(b("LSMessageContentType.bs").mediaPreview,c.displayedContentTypes),o=function(a){};e=e||d||m[0]||k[0];return h.jsx(b("MWTooltipGroup.react"),{children:h.jsx(b("MWPBaseMessageListRowActions.bs").Container.make,{children:e||n?h.jsx(l,{message:c,outgoing:g,setMoreMenuOpen:m[1],setReactionsMenuOpen:k[1],interactedWith:e,alwaysShowForwardForMediaMessages:n,closeActionsMenu:o,canRemoveMessageGlobally:j,extraActions:a}):null,hasReactions:f,outgoing:g,ariaHidden:i})})}d=a;f.$MAWMessageRetryButton$requireCond=b("cr:10871");f.ActionsList=c;f.make=d}),null);
__d("MWPSolidMessageBubble.bs",["bs_belt_Option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={bubble:{paddingTop:"cxgpxx05",paddingEnd:"d1544ag0",paddingBottom:"sj5x9vvc",paddingStart:"tw6a2znq",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad",overflowWrap:"jm1wdb64",wordBreak:"qv66sw1b",color:"ljqsnud1",maxWidth:"odn2s2vf",zIndex:"tkr6xdv7"},incoming_connect_top:{borderTopStartRadius:"jk6sbkaj"},incoming_connect_bot:{borderBottomStartRadius:"qttc61fc"},outgoing_connect_top:{borderTopEndRadius:"kdgqqoy6"},outgoing_connect_bot:{borderBottomEndRadius:"ihh4hy1g"},precedes_xma:{boxSizing:"rq0escxv",maxWidth:"hxptbbi5",width:"k4urcfbm",borderBottomEndRadius:"jinzq4gt",borderBottomStartRadius:"mrjvor2e"}};function a(a){var c=a.children,d=a.style,e=a.connectTop,f=a.connectBottom,g=a.precedesXMA,k=a.outgoing;a=a.xstyle;g=g!==void 0?g:!1;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.bubble,e?k?j.outgoing_connect_top:j.incoming_connect_top:!1,!g&&f?k?j.outgoing_connect_bot:j.incoming_connect_bot:!1,g?j.precedes_xma:!1,b("bs_belt_Option").getWithDefault(a,!1)),style:d,children:c})}c=a;f.styles=j;f.make=c}),null);
__d("MWPTransparentMessageBubble.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");c=36;d=c+6|0;e=d+14|0;var j={bubble:{maxWidth:"odn2s2vf",paddingTop:"l60d2q6s",paddingEnd:"d1544ag0",paddingBottom:"sj5x9vvc",paddingStart:"tw6a2znq",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs",overflowWrap:"jm1wdb64",wordBreak:"qv66sw1b",":after":{content:"i6jr3soi",display:"k4aqvg2j",position:"g8e0jvg7",top:"geli4699",bottom:"fkq5d175",start:"oskkt2ky",end:"i4sm7uox",borderTopStyle:"fin0ypmt",borderEndStyle:"j10cs0yc",borderBottomStyle:"aw4oqepz",borderStartStyle:"fgzft9zi",borderTopWidth:"dzm1kfb5",borderEndWidth:"oc4jhviy",borderBottomWidth:"h624itt5",borderStartWidth:"reaovrpu",borderTopColor:"hwba8txa",borderEndColor:"dzgn2jm7",borderBottomColor:"n4g4bzxc",borderStartColor:"sdxs9vve",borderTopStartRadius:"cur584us",borderTopEndRadius:"gt092ec4",borderBottomEndRadius:"t02hhl22",borderBottomStartRadius:"lm2lsiji",pointerEvents:"yfudjqg5"}},incoming_connect_top:{":after":{borderTopStartRadius:"efeyjaql"}},incoming_connect_bot:{":after":{borderBottomStartRadius:"dcchegku"}},outgoing_connect_top:{":after":{borderTopEndRadius:"qyep8gqv"}},outgoing_connect_bot:{":after":{borderBottomEndRadius:"af2nlw56"}},precedes_xma:{boxSizing:"rq0escxv",maxWidth:"nqmqzb3c",width:"k4urcfbm",":after":{borderBottomEndRadius:"iep0m7mp",borderBottomStartRadius:"pgkcj7gb"}}};function a(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA;a=a.outgoing;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.bubble,d?a?j.outgoing_connect_top:j.incoming_connect_top:!1,!f&&e?a?j.outgoing_connect_bot:j.incoming_connect_bot:!1,f?j.precedes_xma:!1),children:c})}var k=18;a=a;f.baseSize=k;f.borderWidth=c;f.smallRadius=d;f.largeRadius=e;f.styles=j;f.make=a}),null);
__d("MWV2ChatBubble.bs",["MWLSThreadDisplayContext.bs","MWPSolidMessageBubble.bs","MWPThreadTheme.bs","MWPTransparentMessageBubble.bs","MWV2ColorUtils.bs","MWV2MessageHasReply.bs","bs_caml_obj","bs_caml_splice_call","react","stylex","useMatchMedia"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={emphasis_ring:{display:"j83agx80",borderTop:"dmyp13bq",borderEnd:"ndhlz62r",borderBottom:"ncbqlf8d",borderStart:"s0vq2i2w",maxWidth:"blud8cpg",position:"l9j0dhe7",backgroundColor:"g5ia77u1",":before":{content:"g25sr70m",display:"jdo7v6z6",position:"lzm9zonv",top:"hlthg0ru",bottom:"bukg358c",start:"nsmdno57",end:"p8m4tlpt",borderTopStyle:"fboblok7",borderEndStyle:"hooc0cby",borderBottomStyle:"bblsj9ze",borderStartStyle:"sj46kbig",borderTopWidth:"ek0ugbdb",borderEndWidth:"dpj2ryut",borderBottomWidth:"rq41jfz2",borderStartWidth:"t1qoqrst",borderTopColor:"ctd5sy3o",borderEndColor:"t7740pma",borderBottomColor:"h01b6lxl",borderStartColor:"is8i6zgj",opacity:"f9zxapb0",borderTopStartRadius:"o5g7ym2r",borderTopEndRadius:"swnt2q8t",borderBottomEndRadius:"egy40mqu",borderBottomStartRadius:"m3lz4j07",pointerEvents:"szx2nxjd",zIndex:"c4u49bkg"},":after":{content:"i6jr3soi",display:"k4aqvg2j",position:"g8e0jvg7",top:"e15w2yfi",bottom:"jdr4sxky",start:"opatuxy4",end:"jj6iul7h",borderTopStyle:"fin0ypmt",borderEndStyle:"j10cs0yc",borderBottomStyle:"aw4oqepz",borderStartStyle:"fgzft9zi",borderTopWidth:"avvvbj8i",borderEndWidth:"qc19tv0c",borderBottomWidth:"seh407zj",borderStartWidth:"mgkhc2l0",borderTopColor:"qu1lfhdz",borderEndColor:"h2zxmtvk",borderBottomColor:"r13p1xmt",borderStartColor:"thnup18q",borderTopStartRadius:"tdsjupxz",borderTopEndRadius:"o6z0k5ic",borderBottomEndRadius:"m0ai3fox",borderBottomStartRadius:"t06v70oj",pointerEvents:"yfudjqg5",zIndex:"sebibeov"}},emphasis_ring_before_xma:{borderBottom:"humdl8nn",":before":{borderBottom:"dwjjxrjg",borderBottomStartRadius:"vha61xgp",borderBottomEndRadius:"cninlv0n"},":after":{borderBottom:"h4hm3dj4",borderBottomStartRadius:"pgkcj7gb",borderBottomEndRadius:"iep0m7mp"}},emphasis_ring_xma:{width:"gaoewp0a",borderTop:"gcieejh5",":before":{borderTop:"bsyhajyn",borderTopStartRadius:"rlntl7br",borderTopEndRadius:"rgkwebxj"},":after":{borderTop:"q22nnh5l",borderTopStartRadius:"lm7vadms",borderTopEndRadius:"s6fxew23"}},emphasis_ring_connect_top_outgoing:{":before":{borderTopEndRadius:"m2bnzw1h"},":after":{borderTopEndRadius:"mk1s9yjy"}},emphasis_ring_connect_top_incoming:{":before":{borderTopStartRadius:"izwkhwj2"},":after":{borderTopStartRadius:"i7jao9op"}},emphasis_ring_connect_bottom_outgoing:{":before":{borderBottomEndRadius:"aultcim1"},":after":{borderBottomEndRadius:"lgl5u3oa"}},emphasis_ring_connect_bottom_incoming:{":before":{borderBottomStartRadius:"mfjs0nqm"},":after":{borderBottomStartRadius:"qrw7h0bf"}}};function k(a,c){if(c)return{backgroundColor:b("MWV2ColorUtils.bs").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--wash)"}}function l(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA,g=a.outgoing;a=a.threadTheme;a=k(a,g);return i.jsx(b("MWPSolidMessageBubble.bs").make,{children:c,style:a,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g})}c={useInlineStyles:k,make:l};function m(a,c,d){var e=b("MWLSThreadDisplayContext.bs").useHook(void 0),f=b("useMatchMedia")("(min-height: "+String(1280)+"px)");return i.useMemo(function(){if(d&&c.length>1)return{backgroundAttachment:"fixed",backgroundColor:b("MWV2ColorUtils.bs").int64ToHex(a.fallbackColor),backgroundImage:b("MWV2ColorUtils.bs").gradient(c,b("bs_caml_obj").caml_notequal(e,1),f,void 0)};else if(d)return{backgroundColor:b("MWV2ColorUtils.bs").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--wash)"}},[a,c,d,e,f])}function n(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA,g=a.outgoing,h=a.threadTheme;a=a.gradientColors;h=m(h,a,g);return i.jsx(b("MWPSolidMessageBubble.bs").make,{children:c,style:h,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g})}d={useInlineStyles:m,make:n};function o(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA;a=a.outgoing;return i.jsx(b("MWPTransparentMessageBubble.bs").make,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:a})}e={make:o};function p(a){var c=a.children,d=a.shouldConnectTop,e=a.shouldConnectBottom,f=a.isBeforeXMA,g=a.hasXMA;a=a.isOutgoing;f=[j.emphasis_ring,f?j.emphasis_ring_before_xma:e?a?j.emphasis_ring_connect_bottom_outgoing:j.emphasis_ring_connect_bottom_incoming:!1,g?d?j.emphasis_ring_xma:!1:d?a?j.emphasis_ring_connect_top_outgoing:j.emphasis_ring_connect_top_incoming:!1];return i.jsx("div",{className:b("bs_caml_splice_call").spliceApply(h||(h=b("stylex")),[f]),children:c})}var q={make:p};function a(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA,g=a.outgoing,h=a.message;a=a.hasEmphasisRing;a=a!==void 0?a:!1;var j=b("MWPThreadTheme.bs").useHook(void 0),k=j.gradientColors;j=j.threadTheme;h=b("MWV2MessageHasReply.bs").make(h);h=h?i.jsx(n,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g,threadTheme:j,gradientColors:k}):g&&k.length>1?i.jsx(o,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g}):i.jsx(l,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g,threadTheme:j});if(a)return i.jsx(p,{children:h,shouldConnectTop:d,shouldConnectBottom:e,isBeforeXMA:f,hasXMA:!1,isOutgoing:g});else return h}a=a;f.styles=j;f.Solid=c;f.Reply=d;f.Transparent=e;f.EmphasisRing=q;f.make=a}),null);
__d("MWV2TombstonedMessage.bs",["bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{paddingTop:"jktsbyx5",paddingEnd:"rv4hoivh",paddingBottom:"osnr6wyh",paddingStart:"h4z51re5",maxWidth:"d2edcug0",borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderTop:"l6v480f0",borderEnd:"maa8sdkg",borderBottom:"s1tcr66n",borderStart:"aypy0576",color:"erlsw9ld",wordBreak:"qv66sw1b"},connectTop:{borderTopStartRadius:"monazrh9",borderTopEndRadius:"h905i5nu"},connectBottom:{borderBottomStartRadius:"mrjvor2e",borderBottomEndRadius:"jinzq4gt"}};function a(a){var c=a.children,d=a.ariaLabel,e=a.connectTop,f=a.connectBottom;a=a.xstyle;e=e!==void 0?e:!1;f=f!==void 0?f:!1;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;return i.jsx("div",{"aria-label":d,className:(h||(h=b("stylex")))(j.root,e?j.connectTop:!1,f?j.connectBottom:!1,a),children:c})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2ChatErrorBubble.bs",["fbt","MWV2TombstonedMessage.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={withBackground:{backgroundColor:"nred35xi"},withReply:{zIndex:"tkr6xdv7"},vr:{height:"p3ovkuyr",width:"k4urcfbm"}};function a(a){a=a.hasReply;return j.jsxs("div",{className:(i||(i=b("stylex")))(a?k.withReply:k.withBackground),children:[a?null:j.jsx("div",{className:(i||(i=b("stylex")))(k.vr,k.withBackground)}),j.jsx(b("MWV2TombstonedMessage.bs").make,{children:g._(/*FBT_CALL*/"L\u1ed7i khi xu\u1ea5t file ph\u01b0\u01a1ng ti\u1ec7n"/*FBT_CALL*/),xstyle:k.withBackground})]})}c=a;f.styles=k;f.make=c}),null);
__d("MWV2ChatSeenHeadsRow.bs",["fbt","BaseGlimmer.react","CometLazyDialogTrigger.react","CometPressable.react","JSResourceForInteraction","MWLSThreadDisplayContext.bs","MWTheme.bs","MWTooltip.react","MWTooltipGroup.react","MWV2MessageRowIsRowFocusedContext.bs","MercuryTimestamp","bs_array","bs_caml_obj","bs_curry","getFBTSafeGenderFromGenderConst","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{display:"j83agx80",paddingBottom:"r8blr3vg"},mask:{backgroundColor:"nred35xi"},spacer:{flexGrow:"buofh1pr",flexBasis:"rj1gh0hx"},heads:{flexShrink:"pfnyh3mw",display:"j83agx80",marginTop:"aahdfvyu",marginEnd:"cgat1ltu",marginBottom:"dicw6rsg",marginStart:"hcukyx3x"},img:{verticalAlign:"sf5mxxl7",width:"gab7stmx",height:"i4qgphn6",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",paddingStart:"abpf7j7b",paddingEnd:"exrn9cbp"},overflow:{backgroundColor:"tdjehn4e",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",color:"m9osqain",fontSize:"r9r71o1u",fontWeight:"n3ffmt46",lineHeight:"eagtllmd",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",paddingTop:"jb3vyjys",paddingEnd:"ph5uu5jm",paddingBottom:"qt6c0cv9",paddingStart:"b3onmgus",textAlign:"oqcyycmt"}};function l(a,c){var d=a.length,e=d>5;d=Math.max(d-(e?4:5)|0,0);var f=a.slice(d);if(e){e=Math.max(d-9|0,0);a=a.slice(e,d);var h="\n"+g._(/*FBT_CALL*/{"*":"v\u00e0 {Number of additional views} ng\u01b0\u1eddi n\u1eefa"}/*FBT_CALL*/,[g._param("Number of additional views",e,[0])]);a=j.jsxs("ul",{children:[a.reverse().map(function(a,b){return j.jsx("li",{children:a.name},String(b))}),e>0?j.jsx("li",{children:h},"overflow"):null]});e=j.jsx(b("MWTooltip.react"),{tooltip:a,align:function(){switch(b("bs_caml_obj").caml_equal(c,1)?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:"above",children:j.jsx("span",{className:(i||(i=b("stylex")))(k.overflow),children:g._(/*FBT_CALL*/{"*":"+{the number of additional viewers}"}/*FBT_CALL*/,[g._param("the number of additional viewers",d,[0])])}),forceInlineDisplay:!0},"overflow")}else e=null;return b("bs_array").append([e],f.map(function(a,d){var e=a.timestamp>0?g._(/*FBT_CALL*/{"*":"{full name} \u0111\u00e3 xem l\u00fac {seen time}"}/*FBT_CALL*/,[g._name("full name",a.name,b("getFBTSafeGenderFromGenderConst")(a.gender)),g._param("seen time",b("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]):g._(/*FBT_CALL*/{"*":"{full name} \u0111\u00e3 xem"}/*FBT_CALL*/,[g._name("full name",a.name,b("getFBTSafeGenderFromGenderConst")(a.gender))]);return j.jsx(b("MWTooltip.react"),{tooltip:e,align:function(){switch(b("bs_caml_obj").caml_equal(c,1)?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:"above",children:a.imageSrc===""?j.jsx(b("BaseGlimmer.react"),{className:(i||(i=b("stylex")))(k.img),index:d}):j.jsx("img",{className:(i||(i=b("stylex")))(k.img),alt:e,src:a.imageSrc}),forceInlineDisplay:!0},a.id)}))}function a(a){var c=a.messageSeenBy;a=b("MWTheme.bs").useTheme(void 0);var d=j.useContext(b("MWV2MessageRowIsRowFocusedContext.bs").context),e=d.setIsDialogOpened,f=d.setFocused,h=c.length,m=b("MWLSThreadDisplayContext.bs").useHook(void 0),n=j.useRef(null);return j.jsxs("div",{role:"none",className:(i||(i=b("stylex")))(k.root,b("MWTheme.bs").isGradient(a)?k.mask:!1),children:[j.jsx("div",{className:i(k.spacer)}),j.jsx(b("CometLazyDialogTrigger.react"),{onHide:function(a){b("bs_curry")._1(e,function(a){return!1});return b("bs_curry")._1(f,function(a){return!0})},dialogResource:b("JSResourceForInteraction")("MWV2ChatSeenHeadsDialog",{name:"MWV2ChatSeenHeadsDialog","class":"fluid"}).__setRef("MWV2ChatSeenHeadsRow.bs"),dialogProps:{onClose:function(a){},messageSeenBy:c},children:function(a){return j.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"{number of participants who have seen this message} ng\u01b0\u1eddi tham gia \u0111\u00e3 xem"/*FBT_CALL*/,[g._param("number of participants who have seen this message",String(h))]).toString(),ref:n,onPress:function(c){b("bs_curry")._1(e,function(a){return!0});return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,xstyle:function(a){return[k.heads]},children:j.jsx(b("MWTooltipGroup.react"),{children:l(c,m)})})}})]})}c=5;d=a;f.styles=k;f.maxNumberOfHeads=c;f.getImageRow=l;f.make=d}),null);
__d("MWV2MessageEndOfGroupContent.bs",["MWPMessageListColumn.bs","MWV2ChatSeenHeadsRow.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.seenHeads;return h.jsx(h.Fragment,{children:a.length!==0?h.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:h.jsx(b("MWV2ChatSeenHeadsRow.bs").make,{messageSeenBy:a})}):null})}c=a;f.make=c}),null);
__d("MWV2MessageListIsRowModalContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){}var i=h.createContext(a);function c(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{value:a,children:b})}d={make:c};f.emptyValue=a;f.context=i;f.Provider=d}),null);
__d("MWV2MessageRowSimple.bs",["FocusWithinHandler.react","MWMessageTableFocusTable.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={row:{position:"l9j0dhe7"},rowFocusVisible:{zIndex:"tkr6xdv7"}};function a(a){var c=a.children;return i.jsx(b("MWMessageTableFocusTable.bs").Table_.Row.make,{children:i.jsx("div",{role:"row",children:i.jsx(b("MWMessageTableFocusTable.bs").Table_.Cell.make,{children:i.jsx(b("FocusWithinHandler.react"),{children:function(a,d){return i.jsx("div",{role:"gridcell",tabIndex:0,"data-scope":b("MWMessageTableFocusTable.bs").scopeID,"data-release-focus-from":"CLICK",className:(h||(h=b("stylex")))(j.row,d?j.rowFocusVisible:!1),children:c})}})})})})}c=a;f.styles=j;f.make=c}),null);
__d("MWAdminTextLayout.bs",["CometTextWithEntities.react","MWChatTextTransform.bs","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.message;a=a.cta;c=c.text;if(c!==void 0)if(a!==void 0)return h.jsxs(h.Fragment,{children:[h.jsx(b("CometTextWithEntities.react"),{text:c,transforms:b("MWChatTextTransform.bs").epdTextTransforms})," ",b("bs_caml_option").valFromOption(a)]});else return h.jsx(b("CometTextWithEntities.react"),{text:c,transforms:b("MWChatTextTransform.bs").epdTextTransforms});else if(a!==void 0)return b("bs_caml_option").valFromOption(a);else return null}c=a;f.make=c}),null);
__d("MWV2AdminMsgCta.bs",["CometLink.react","MWAdminTextLayout.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_caml_option","cr:1606","cr:895","react","stylex","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("cr:895")==null?void 0:b("bs_caml_option").some(b("cr:895")),k=b("cr:1606")==null?void 0:b("bs_caml_option").some(b("cr:1606")),l={adminTextCta:{display:"q9uorilb",fontWeight:"lrazzd5p"}};function a(a){a=a.message;var c=a.adminMsgCtaTitle,d={message:a};a=c!==void 0&&!(b("cr:895")==null)?b("bs_caml_option").some(i.jsx("div",{className:(h||(h=b("stylex")))(l.adminTextCta),children:i.jsx(j.make,{threadKey:a.threadKey,title:c})})):void 0;a!==void 0&&(d.cta=b("bs_caml_option").valFromOption(a));return i.jsx(b("MWAdminTextLayout.bs").make,d)}e={styles:l,make:a};var m={adminTextCta:{display:"q9uorilb",fontWeight:"lrazzd5p"}};function c(a){var c=a.message;a=a.isOptOut;var d=b("useReStore")(),e=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=c.adminMsgCtaId;if(a!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("admin_message_ctas")),{hd:c.threadKey,tl:{hd:c.messageId,tl:{hd:a,tl:0}}});else return b("SortedAsyncIterable.bs").empty(void 0)},[d,c])),f=c.adminMsgCtaTitle,g={message:c};f=f!==void 0&&!(b("cr:1606")==null)&&e!==void 0?b("bs_caml_option").some(i.jsx("div",{className:(h||(h=b("stylex")))(m.adminTextCta),children:i.jsx(k.make,{threadKey:c.threadKey,title:f,targetId:e.targetId,isOptOut:a})})):void 0;f!==void 0&&(g.cta=b("bs_caml_option").valFromOption(f));return i.jsx(b("MWAdminTextLayout.bs").make,g)}a={styles:m,make:c};function d(a){var c=a.message,d=b("useReStore")();a=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=c.adminMsgCtaId;if(a!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("admin_message_ctas")),{hd:c.threadKey,tl:{hd:c.messageId,tl:{hd:a,tl:0}}});else return b("SortedAsyncIterable.bs").empty(void 0)},[d,c]));if(a!==void 0){var e=a.title;if(e!==void 0){a=a.actionUrl;a=a!==void 0?b("bs_caml_option").some(i.jsx(b("CometLink.react"),{href:a,color:"blueLink",target:"_blank",children:e})):void 0}else a=void 0}else a=void 0;e={message:c};a!==void 0&&(e.cta=b("bs_caml_option").valFromOption(a));return i.jsx(b("MWAdminTextLayout.bs").make,e)}c={make:d};f.$MAWEphemeralAdminMsgCta$requireCondXplat=b("cr:895");f.$MWNotificationMessageManageNotificationsAdminMsgCta$requireCond=b("cr:1606");f.AdminMsgArmadilloEphemeralChangeDuration=e;f.AdminMsgNotificationMessageManageNotifications=a;f.AdminMsgWebUrl=c}),null);
__d("MWV2ChatAdminMessage.bs",["MWAdminTextLayout.bs","MWV2AdminMsgCta.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a){if(a!==void 0)return a.isAdminMessage;else return!1}var k={container:{paddingEnd:"gl4o1x5y",paddingStart:"lt9micmv",paddingTop:"jktsbyx5",paddingBottom:"osnr6wyh"},containerThatPrecedesAdminMessage:{paddingBottom:"iuny7tx3"},containerThatProceedsAdminMessage:{paddingTop:"ipjc6fyt"},content:{maxWidth:"gfl2vlpq",wordBreak:"qv66sw1b",fontSize:"r9r71o1u",lineHeight:"eagtllmd",color:"pipptul6",textAlign:"oqcyycmt",marginTop:"km676qkl",marginEnd:"ad2k81qe",marginBottom:"myj7ivm5",marginStart:"f9o22wc5"}};function l(a){var c=a.prevMessage,d=a.nextMessage;a=a.children;return i.jsx("div",{className:(h||(h=b("stylex")))(k.container,j(c)?k.containerThatProceedsAdminMessage:!1,j(d)?k.containerThatPrecedesAdminMessage:!1),children:i.jsx("div",{className:h(k.content),children:a})})}c={styles:k,make:l};function a(a){var c=a.prevMessage,d=a.message;a=a.nextMessage;var e=d.adminMsgCtaType;return i.jsx(l,{prevMessage:c,nextMessage:a,children:e!==void 0?e==="admin_msg_armadillo_ephemeral_change_duration"?i.jsx(b("MWV2AdminMsgCta.bs").AdminMsgArmadilloEphemeralChangeDuration.make,{message:d}):e==="admin_msg_web_url"?i.jsx(b("MWV2AdminMsgCta.bs").AdminMsgWebUrl.make,{message:d}):e==="admin_notification_messages_opt_out"?i.jsx(b("MWV2AdminMsgCta.bs").AdminMsgNotificationMessageManageNotifications.make,{message:d,isOptOut:!0}):e==="admin_notification_messages_opt_in"?i.jsx(b("MWV2AdminMsgCta.bs").AdminMsgNotificationMessageManageNotifications.make,{message:d,isOptOut:!1}):i.jsx(b("MWAdminTextLayout.bs").make,{message:d}):i.jsx(b("MWAdminTextLayout.bs").make,{message:d})})}d=a;f.Container=c;f.make=d}),null);
__d("MWV2MessageStartOfGroupContent.bs",["MWPMessageListColumn.bs","MWV2ChatAdminMessage.bs","MWV2MessageRowSimple.bs","WorkChatDateBreak.bs","bs_caml_int64","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){if(c!==void 0)return b("bs_int64").compare(b("bs_caml_int64").sub(a.timestampMs,c.timestampMs),[0,9e5])>0;else return!0}function j(a){var c=a.message;a=a.prevMessage;if(i(c,a))return h.jsx(b("MWV2MessageRowSimple.bs").make,{children:h.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:h.jsx(b("MWV2ChatAdminMessage.bs").Container.make,{prevMessage:a,nextMessage:c,children:h.jsx(b("WorkChatDateBreak.bs").make,{timestamp:b("bs_caml_int64").to_float(c.timestampMs)})})})});else return null}c={make:j};function a(a){var b=a.message;a=a.prevMessage;return h.jsx(j,{message:b,prevMessage:a})}d=a;f.Datebreak=c;f.make=d}),null);
__d("MWV2MessageActionsVisibility.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return h.useRef(function(a){})}f.useStopHoveringRef=a}),null);
__d("MWV2MessageIsEmojiOnly.bs",["EmojiRenderer","EmoticonRenderer","bs_curry","cr:385","gkx"],(function(a,b,c,d,e,f){"use strict";var g=/^[ \r\n\s]*$/;function a(a){if(a===void 0)return!1;var c=b("cr:385")==null?a:b("bs_curry")._1(b("cr:385").unvault,a);a=b("EmojiRenderer").parse(c).map(function(a){return{length:a.length,offset:a.offset}});var d=b("gkx")("1839834")?b("EmoticonRenderer").parse(c).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];a=a.concat(d);if(a.length===0)return!1;d=a.sort(function(a,b){return a.offset-b.offset|0});var e={contents:0},f={contents:0};a=d.some(function(a){e.contents===a.offset?(e.contents=e.contents+a.length|0,f.contents=e.contents):f.contents=a.offset;var b=c.substring(e.contents,f.contents);e.contents=a.offset+a.length|0;return g.test(b)===!1});d=e.contents!==c.length&&!g.test(c.substring(f.contents));if(a)return!1;else return!d}f.utf16RegexSpaces=g;f.$MAWVault$requireCond=b("cr:385");f.make=a}),null);
__d("MWV2MessageTimestampTooltip.bs",["fbt","MWTooltip.react","MercuryTimestamp","bs_caml_int64","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.message;a=a.children;var d=i.useMemo(function(){var a=c.unsentTimestampMs,d=c.isUnsent;return a!==void 0&&d?i.jsxs("div",{children:[i.jsx("div",{children:g._(/*FBT_CALL*/"G\u1eedi v\u00e0o {time}"/*FBT_CALL*/,[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(c.timestampMs)))])}),i.jsx("div",{children:b("gkx")("1531920")?g._(/*FBT_CALL*/"Th\u1eddi gian thu h\u1ed3i: {time}"/*FBT_CALL*/,[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(a)))]):g._(/*FBT_CALL*/"G\u1ee1 v\u00e0o {time}"/*FBT_CALL*/,[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(a)))])})]}):g._(/*FBT_CALL*/"{time}"/*FBT_CALL*/,[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(c.timestampMs)))])},[c]);return i.jsx(b("MWTooltip.react"),{tooltip:d,align:"middle",position:"start",children:a})}c=a;f.make=c}),null);
__d("MAWEphemeralMessageTimer.bs",["fbt","CometScreenReaderText.react","MAWEphemeralConsts.bs","MDSText.react","WATimeUtils","bs_caml_int32","bs_caml_int64","bs_curry","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){if(a<b("MAWEphemeralConsts.bs").oneMinuteInSeconds)return g._(/*FBT_CALL*/"{seconds}"/*FBT_CALL*/,[g._param("seconds",String(a).concat("s"))]);else if(a<b("MAWEphemeralConsts.bs").oneHourInSeconds)return g._(/*FBT_CALL*/"{minutes}"/*FBT_CALL*/,[g._param("minutes",String(b("bs_caml_int32").div(a,b("MAWEphemeralConsts.bs").oneMinuteInSeconds)).concat("m"))]);else if(a<b("MAWEphemeralConsts.bs").oneDayInSeconds)return g._(/*FBT_CALL*/"{hours}"/*FBT_CALL*/,[g._param("hours",String(b("bs_caml_int32").div(a,b("MAWEphemeralConsts.bs").oneHourInSeconds)).concat("h"))]);else return g._(/*FBT_CALL*/"{days}"/*FBT_CALL*/,[g._param("days",String(b("bs_caml_int32").div(a,b("MAWEphemeralConsts.bs").oneDayInSeconds)).concat("d"))])}function k(a){return g._(/*FBT_CALL*/"Message will disappear in: {time}"/*FBT_CALL*/,[g._param("time",a)])}function l(a,c){a=b("bs_caml_int64").to_int32(b("bs_caml_int64").sub(a,b("bs_caml_int64").of_float(b("WATimeUtils").unixTime())));if(c!==void 0&&a>b("bs_caml_int64").to_int32(c))return b("bs_caml_int64").to_int32(c);else return a}function a(a){var c=a.expirationTimestamp,d=a.ephemeralDurationInSec;a=i.useState(function(){return l(c,d)});var e=a[1],f=a[0];a=j(f);var g=k(a);i.useEffect(function(){f>0&&b("setTimeout")(function(a){return b("bs_curry")._1(e,function(a){return f-1|0})},b("MAWEphemeralConsts.bs").msPerSec)},[f,c]);return i.jsxs("div",{className:"oqcyycmt khqfe5cm",children:[i.jsx(b("CometScreenReaderText.react"),{text:g}),i.jsx("div",{"aria-hidden":!0,children:i.jsx(b("MDSText.react"),{type:"meta1",children:a})})]})}c=a;f.getScreenReaderText=k;f.getRemainingTimeInSec=l;f.make=c}),null);
__d("MWV2SeenHead.bs",["GenderConst","LSMediaUrl.bs","LSMessageSendStatusV2.bs","MWMessageDeliveryStatus.bs","bs_belt_Option","bs_caml","bs_caml_array","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f){"use strict";e=[];function g(a){var c=a[1];a=a[0];return{imageSrc:b("LSMediaUrl.bs").Contact.profilePictureUrl(c),name:b("bs_belt_Option").getWithDefault(a.nickname,c.name),id:b("bs_int64").to_string(c.id),gender:b("GenderConst").NOT_A_PERSON,timestamp:b("bs_caml_int64").to_float(a.readActionTimestampMs)}}function a(a,c){var d={contents:b("bs_caml_int64").zero};a.forEach(function(a,e,f){e=a[0];if(b("bs_caml").i64_neq(e.contactId,c)&&b("bs_caml").i64_gt(e.deliveredWatermarkTimestampMs,d.contents)){d.contents=e.deliveredWatermarkTimestampMs;return}});return d.contents}function c(a){return new Set([b("bs_int64").to_string(a)])}function d(a,c,d,e,f,h){var i=[];c.forEach(function(c,e,f){if(d.has(e)||a.isAdminMessage)return;if(!b("bs_caml").i64_eq(a.sendStatusV2,b("LSMessageSendStatusV2.bs").serverReceived))return;f=c[0];var j=b("bs_caml").i64_eq(a.senderId,f.contactId);f=b("bs_caml").i64_le(a.timestampMs,f.readWatermarkTimestampMs);if(j||f){i.push(g(c));if(!h){d.add(e);return}else return}});var j=i.length===0&&d.size===1;if(i.length<=0)if(b("bs_caml").i64_eq(a.senderId,f))return b("MWMessageDeliveryStatus.bs").deliveryStatusForMessageSentByYou(a,e,j);else return 0;if(!h)if(i.length>1)return{TAG:1,_0:i};else return{TAG:0,_0:b("bs_caml_array").get(i,0)};f=i.length===(c.size-1|0);return{TAG:2,_0:i,_1:f}}f.noSeenHeads=e;f.toSeenDetails=g;f.calculateMaxDeliveredTimestamp=a;f.makeExistingSeenHeads=c;f.deliveryStatusForMessage=d}),null);
__d("MWPCombineTextRenderers.bs",["bs_js_dict"],(function(a,b,c,d,e,f){"use strict";function a(a){var c={};a.forEach(function(a){if(a===void 0)return;var d=a[1];a=a[0];var e=b("bs_js_dict").get(c,a);e!==void 0?c[a]=e.concat([d]):c[a]=[d]});return c}f.useHook=a}),null);
__d("MWPUseLinkRendererFactory.bs",["LSThreadCapabilityBitOffset.bs","MWTextWithEntities.bs","MWThreadCapabilitiesContext.bs","bs_curry","gkx"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a!==void 0?a:!1;c=b("MWThreadCapabilitiesContext.bs").useHook(void 0);var e=b("gkx")("1886144")&&b("bs_curry")._1(c,b("LSThreadCapabilityBitOffset.bs").disableLinks);return function(a,c,f){if(e)return;else return[f,b("MWTextWithEntities.bs").linkPlugin(a,void 0,c,d,void 0)]}}f.useHook=a}),null);
__d("MWUseTextRenderers.bs",["MWChatTextFormatting","MWPCombineTextRenderers.bs","MWPUseLinkRendererFactory.bs","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g={underline:{textDecoration:"oo483o9r",color:"gmql0nx0"},bold:{fontWeight:"lrazzd5p"},highlight:{backgroundColor:"tutozmqo",borderTopStartRadius:"jk6sbkaj",borderTopEndRadius:"kdgqqoy6",borderBottomEndRadius:"ihh4hy1g",borderBottomStartRadius:"qttc61fc",paddingTop:"jwdofwj8",paddingEnd:"rz4wbd8a",paddingBottom:"r8blr3vg",paddingStart:"a8nywdso"}};function a(a,c){c=a!==void 0?a:!1;var d=c;a=function(a){return b("MWPUseLinkRendererFactory.bs").useHook(d,a)};return b("MWPCombineTextRenderers.bs").useHook([b("bs_curry")._4(a,void 0,[g.underline],"chat_message_regular_link","Link"),b("bs_curry")._4(a,void 0,[g.bold],"profile_link","Profile"),b("bs_curry")._4(a,void 0,[g.highlight],"highlight","Highlight"),["MessengerTextFormatting",b("MWChatTextFormatting").messageRenderer]])}f.styles=g;f.useHook=a}),null);
__d("MWV2ChatEmoji.bs",["CometTextWithEntities.react","MWChatEmojiUtil.bs","MWChatTextTransform.bs","MWV2ChatBubble.bs","bs_curry","cr:385","qex","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.message;a=a.hasEmphasisRing;a=a!==void 0?a:!1;var d=h.useMemo(function(){var a=b("qex")._("1546");a=a==null||a!=="dynamic"?32:b("MWChatEmojiUtil.bs").transformHotEmojiSizeForWeb(c.hotEmojiSize);return b("MWChatTextTransform.bs").epdTextTransformsWithOptions({size:a})},[c.hotEmojiSize]),e=c.text;if(e===void 0)return null;e=b("cr:385")==null?e:b("bs_curry")._1(b("cr:385").unvault,e);e=h.jsx(b("CometTextWithEntities.react"),{withParagraphs:!0,text:e,transforms:d});if(a)return h.jsx(b("MWV2ChatBubble.bs").EmphasisRing.make,{children:e,shouldConnectTop:!1,shouldConnectBottom:!1,isBeforeXMA:!1,hasXMA:!1,isOutgoing:!1});else return e}c=a;f.$MAWVault$requireCond=b("cr:385");f.make=c}),null);
__d("MWV2ChatTextParserUtils.bs",["EmojiRenderer","EmoticonRenderer","FBID.bs","LSContactTypeExact.bs","MWChatTextFormatting","MWLSContactTypeExactUtils.bs","MessageProfileRangeType","MessageProfileRangeType.bs","ReQL.bs","ReQLSuspense","XCometVanityURLControllerRouteBuilder","bs_caml","bs_caml_array","bs_caml_format","getURLRanges","gkx"],(function(a,b,c,d,e,f){"use strict";var g=new RegExp("/^[ \\r\\n\\s]*$/");function a(a){var c=b("EmojiRenderer").parse(a).map(function(a){return{length:a.length,offset:a.offset}}),d=b("gkx")("1839834")?b("EmoticonRenderer").parse(a).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];c=c.concat(d).sort(function(a,b){return a.offset-b.offset|0});if(c.length===0)return!1;var e={contents:0},f={contents:0};d=c.some(function(b){e.contents===b.offset?(e.contents=e.contents+b.length|0,f.contents=e.contents):f.contents=b.offset;var c=a.substring(e.contents,f.contents);e.contents=b.offset+b.length|0;return g.test(c)===!1});c=e.contents!==a.length&&!g.test(a.substring(f.contents));if(d)return!1;else return!c}function c(a){var c=b("getURLRanges")(a),d=[];a=b("MWChatTextFormatting").getFormattingRanges(a);c.forEach(function(a){a={offset:a.offset,length:a.length,entity:{__typename:"Link",uri:a.entity.url}};d.push(a)});return d.concat(a)}function h(a){if(b("gkx")("1968579"))return"/t/"+a;else return"/messages/t/"+a}function i(a,c){try{a=b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:b("bs_caml_format").caml_int64_of_string(c),tl:0}))}catch(b){a=void 0}if(a===void 0)return h(c);var d=a.contactTypeExact;if(b("bs_caml").i64_eq(d,b("LSContactTypeExact.bs").fbUser))return"https://www.facebook.com"+b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b("FBID.bs").ofStringExn(c)});if(!b("MWLSContactTypeExactUtils.bs").isIgContact(a))return h(c);d=a.secondaryName;if(d!==void 0)return"https://www.instagram.com/"+d+"/";else return h(c)}function d(a,c,d,e,f){c=c.split(",");var g=d.split(","),j=e.split(","),k=f.split(",");return c.reduce(function(c,d,e){var f=b("MessageProfileRangeType.bs").ofString(b("bs_caml_array").get(k,e));f===b("MessageProfileRangeType").THREAD||f===b("MessageProfileRangeType").THREAD_ACTIVE?c.push({offset:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(j,e)),length:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(g,e)),entity:{__typename:"Profile",uri:h(d),id:b("FBID.bs").ofStringExn(d)}}):f===b("MessageProfileRangeType").PROFILE&&c.push({offset:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(j,e)),length:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(g,e)),entity:{__typename:"Profile",uri:i(a,d),id:b("FBID.bs").ofStringExn(d)}});return c},[])}f.utf16RegexSpaces=g;f.isEmojiOnlyMessage=a;f.findRanges=c;f.createURIForThread=h;f.createProfileURIForMention=i;f.findRangesForMentions=d}),null);
__d("MWV2ChatUnsentMessage.bs",["fbt","MWV2TombstonedMessage.bs","ReQL.bs","ReQLSubscription.bs","bs_curry","cr:1284","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){var c=a.attachment,d=a.isSecureThread;a=a.message;var e=g._(/*FBT_CALL*/"M\u1ed9t ng\u01b0\u1eddi li\u00ean h\u1ec7 \u0111\u00e3 thu h\u1ed3i tin nh\u1eafn"/*FBT_CALL*/);a=b("cr:1284")==null?e:b("bs_curry")._1(b("cr:1284").useUnsendContentInSecureThread,a);if(d)d=a;else if(c!==void 0){a=c.descriptionText;d=a!==void 0?a:e}else d=e;return i.jsx(b("MWV2TombstonedMessage.bs").make,{children:d,ariaLabel:d})}c={make:j};function k(a){a=a.attachment;if(a!==void 0){a=a.descriptionText;a=a!==void 0?a:g._(/*FBT_CALL*/"B\u1ea1n \u0111\u00e3 thu h\u1ed3i m\u1ed9t tin nh\u1eafn"/*FBT_CALL*/)}else a=g._(/*FBT_CALL*/"B\u1ea1n \u0111\u00e3 thu h\u1ed3i m\u1ed9t tin nh\u1eafn"/*FBT_CALL*/);return i.jsx(b("MWV2TombstonedMessage.bs").make,{children:a,ariaLabel:a})}d={make:k};function a(a){var c=a.message,d=a.outgoing;a=a.isSecureThread;var e=b("useReStore")(),f=c.messageId,g=c.threadKey,h=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("attachments")),{hd:g,tl:{hd:f,tl:0}})},[e,f,JSON.stringify(g)]));if(d)return i.jsx(k,{attachment:h});else return i.jsx(j,{attachment:h,isSecureThread:a,message:c})}e=a;f.$MAWMsg$requireCond=b("cr:1284");f.IncomingUnsentMessage=c;f.OutgoingUnsentMessage=d;f.make=e}),null);
__d("MWPAriaLabelForMessageListGrid.bs",["fbt","MWLSActor.bs","MWV2GetThreadTitle.bs","bs_belt_Option","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a,c){var d=b("MWLSActor.bs").useActor(void 0);return i.useMemo(function(){var e=a.threadName;if(e!==void 0)return g._(/*FBT_CALL*/"Tin nh\u1eafn trong cu\u1ed9c tr\u00f2 chuy\u1ec7n {name of conversation}"/*FBT_CALL*/,[g._param("name of conversation",e)]).toString();e=Array.from(c.values()).map(function(a){return[a[0],a[1]]});e=b("bs_belt_Option").getWithDefault(b("MWV2GetThreadTitle.bs").computeThreadTitle(void 0,a,e,d),"");return g._(/*FBT_CALL*/"Tin nh\u1eafn trong cu\u1ed9c tr\u00f2 chuy\u1ec7n v\u1edbi {participant list}"/*FBT_CALL*/,[g._param("participant list",e)]).toString()},[d,c,a.threadName])}f.useHook=a}),null);
__d("MWPMessageParsingUtils.bs",["LSBitFlag.bs","LSMessageContentType.bs","LSMessageReplySourceTypeV2.bs","MDSForwardSvgIcon.bs","MDSReplySvgIcon.bs","MercuryThreadlistConstants","bs_belt_Option","bs_caml","bs_caml_int64","bs_int64","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={titleContainer:{display:"j83agx80",alignItems:"bp9cbjyn",marginBottom:"gjjqq4r6"},text:{paddingStart:"hyh9befq",color:"pipptul6",fontSize:"sq6gx45u"}};function k(a){a=a.text;if(a!==void 0)return a!=="";else return!1}function l(a){a=a.replySourceTypeV2;if(a!==void 0&&b("bs_caml").i64_neq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}function m(a){a=a.replySourceTypeV2;if(a!==void 0&&b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}function n(a){return b("bs_belt_Option").mapWithDefault(a.text,!1,function(a){return a.length>b("MercuryThreadlistConstants").MAX_CHARS_BEFORE_BREAK})}function o(a){if(a.isAdminMessage||b("LSBitFlag.bs").has(b("LSMessageContentType.bs").glyph,a.displayedContentTypes)||b("LSBitFlag.bs").has(b("LSMessageContentType.bs").tombstone,a.displayedContentTypes)||b("LSBitFlag.bs").has(b("LSMessageContentType.bs").sticker,a.displayedContentTypes)||b("LSBitFlag.bs").has(b("LSMessageContentType.bs").audioClip,a.displayedContentTypes)||b("LSBitFlag.bs").has(b("LSMessageContentType.bs").storyReply,a.displayedContentTypes))return!0;else return n(a)}function p(a,c){if(c===void 0)return!0;var d=b("bs_caml_int64").to_float(a.timestampMs)-b("bs_caml_int64").to_float(c.timestampMs)>b("MercuryThreadlistConstants").GROUPING_THRESHOLD,e=m(a),f=b("bs_int64").compare(a.senderId,c.senderId)===0;if(c.isUnsent||a.isUnsent||l(a)||!f||d||e||o(a))return!0;else return o(c)}function q(a,b){if(b!==void 0&&!p(a,b))return!1;else return!0}function r(a,b){if(b!==void 0&&!p(b,a))return!1;else return!0}function a(a,b){if(k(a))return!0;else return!q(a,b)}function c(a,b){return!r(a,b)}e={shouldConnectTop:a,shouldConnectBottom:c};function d(a){var c=a.replySourceTypeV2,d=c!==void 0?b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").message)||b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").story)?i.jsx(b("MDSReplySvgIcon.bs").make,{color:"tertiary",size:"16"}):b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").forward)||b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").igStoryShare)||b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").fbStoryShare)?i.jsx(b("MDSForwardSvgIcon.bs").make,{color:"tertiary",size:"16"}):null:null;return b("bs_belt_Option").map(a.replySnippet,function(a){return i.jsxs("div",{className:(h||(h=b("stylex")))(j.titleContainer),children:[d,i.jsx("div",{className:h(j.text),children:a})]})})}f.styles=j;f.hasText=k;f.isReplyToSomething=l;f.isForwarded=m;f.isLongText=n;f.shouldBeStandalone=o;f.isInDifferentGroup=p;f.isStartOfGroup=q;f.isEndOfGroup=r;f.MessageWithAttachments=e;f.getGroupTitleForReply=d}),null);
__d("MWPBaseMessage.bs",["LSBitFlag.bs","LSMessageContentType.bs","LSThreadCapabilityBitOffset.bs","MWPMessageListColumn.bs","MWPMessageParsingUtils.bs","MWThreadCapabilitiesContext.bs","MWV2MessageHasAttachment.bs","MWV2MessageHasReply.bs","MWV2MessageHasXMA.bs","MWV2MessageIsEmojiOnly.bs","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{alignItems:"ll8tlv6m",display:"j83agx80",flexDirection:"cbu4d94t",maxWidth:"d2edcug0",position:"l9j0dhe7"},outgoing:{alignItems:"aovydwv3"},vr:{backgroundColor:"nred35xi",height:"p3ovkuyr",width:"k4urcfbm"},row_container:{display:"j83agx80",width:"k4urcfbm"},elevate:{position:"l9j0dhe7",zIndex:"tkr6xdv7"}};function k(a){if(b("LSBitFlag.bs").has(b("LSMessageContentType.bs").glyph,a.displayedContentTypes))return!0;else return b("MWV2MessageIsEmojiOnly.bs").make(a.text)}function l(a){return i.jsx(b("MWPMessageListColumn.bs").Grow.make,{children:i.jsx(b("MWPMessageListColumn.bs").HorizontalSpacer.make,{})})}c={make:l};function a(a){var c=a.message,d=a.reactions,e=a.isFirstMessageInGroup,f=a.isLastMessageInGroup,g=a.outgoing,m=a.renderAttachment,n=a.renderMessageFooter,o=a.renderUnsentMessage,p=a.renderEmoji,q=a.renderMessageBubble,r=a.renderMessageContainer,s=a.prevMessage;a=a.nextMessage;var t=b("MWThreadCapabilitiesContext.bs").useHook(void 0);t=b("gkx")("1886144")&&b("bs_curry")._1(t,b("LSThreadCapabilityBitOffset.bs").disableLinks);var u=b("MWV2MessageHasXMA.bs").make(c);if(c.isUnsent)if(o!==void 0)return i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:b("bs_curry")._2(o,c,g)});else return null;o=b("MWV2MessageHasReply.bs").make(c);var v=b("MWPMessageParsingUtils.bs").hasText(c),w=k(c);e=!o&&!e;f=!f;var x=c.text;if(b("MWV2MessageHasAttachment.bs").make(c)&&!(t&&u)){t=b("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectTop(c,s);var y=b("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectBottom(c,a);m=b("bs_curry")._7(m,c,s,a,t,y,g,v)}else m=null;s=i.jsxs(i.Fragment,{children:[x!==void 0?w?o?i.jsx("div",{className:(h||(h=b("stylex")))(j.elevate),children:b("bs_curry")._1(p,c)}):o?null:i.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:[e?i.jsx("div",{className:(h||(h=b("stylex")))(j.vr)}):null,i.jsx("div",{className:(h||(h=b("stylex")))(j.elevate),children:b("bs_curry")._1(p,c)})]}):x!==""?i.jsxs(i.Fragment,{children:[e?i.jsx("div",{className:(h||(h=b("stylex")))(j.vr)}):null,i.jsxs("div",{role:"none",className:(h||(h=b("stylex")))(j.row_container),children:[g?i.jsx(l,{}):null,b("bs_curry")._5(q,c,e,f,u,g),g?null:i.jsx(l,{})]})]}):null:null,m]});return i.jsxs(i.Fragment,{children:[i.jsxs("div",{role:"none",className:(h||(h=b("stylex")))(j.row_container),children:[g?i.jsx(l,{}):null,r!==void 0?b("bs_curry")._2(r,s,[j.container,g?j.outgoing:!1]):i.jsx("div",{className:(h||(h=b("stylex")))(j.container,g?j.outgoing:!1),children:s}),g?null:i.jsx(l,{})]}),i.jsxs(i.Fragment,{children:[w&&d.length>0?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:5}):null,i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:b("bs_curry")._3(n,c,d,g)})]})]})}d=a;f.styles=j;f.HorizontalFill=c;f.make=d}),null);
__d("MWPOneToOneThreadBlockedContext.bs",["LSContactBlockedByViewerStatus.bs","MWV2OneToOneThreadBlockedContext.bs","MessagingThreadType.bs","bs_caml","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=a.participants;a=a.children;var e=h.useMemo(function(){if(!(b("bs_caml").i64_eq(c.threadType,b("MessagingThreadType.bs").oneToOne)||b("bs_caml").i64_eq(c.threadType,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)))return!1;var a={contents:!1};d.forEach(function(c,d,e){if(b("bs_caml").i64_neq(c[1].blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").unblocked)){a.contents=!0;return}});return a.contents},[JSON.stringify(c.threadType),d]);return h.jsx(b("MWV2OneToOneThreadBlockedContext.bs").make,{children:a,blocked:e})}c=a;f.make=c}),null);
__d("MWPBaseMessageList.bs",["BaseHeadingContextWrapper.re","MWLSActor.bs","MWPMessageAuthor.bs","MWPOneToOneThreadBlockedContext.bs","MWV2SeenHead.bs","bs_caml_array","bs_curry","bs_int64","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{zIndex:"du4w35lb"}};function a(a){var c=a.thread,d=a.messages,e=a.participants,f=a.children,g=a.renderRow;a=a.isSecureGroupThread;a=a!==void 0?a:!1;var k=b("MWLSActor.bs").useActor(void 0),l=b("MWV2SeenHead.bs").calculateMaxDeliveredTimestamp(e,k),m=b("MWV2SeenHead.bs").makeExistingSeenHeads(k),n=[];for(var o=d.length-1|0;o>=0;--o){var p=o===0?void 0:b("bs_caml_array").get(d,o-1|0),q=o>=(d.length-1|0)?void 0:b("bs_caml_array").get(d,o+1|0),r=b("bs_caml_array").get(d,o),s=b("MWV2SeenHead.bs").deliveryStatusForMessage(r,e,m,l,k,a),t=e.get(b("bs_int64").to_string(r.senderId));t=t==null?[void 0,void 0]:[t[1],t[0].nickname];n.push(i.jsx(b("MWPMessageAuthor.bs").make,{children:b("bs_curry")._1(g,{message:r,nextMessage:q,prevMessage:p,status:s}),contactId:r.senderId,contact:t[0],nickname:t[1]},r.offlineThreadingId))}if(n.length===0)return null;else return i.jsx(b("BaseHeadingContextWrapper.re").make,{children:i.jsx("div",{className:(h||(h=b("stylex")))(j.container),children:i.jsx(b("MWPOneToOneThreadBlockedContext.bs").make,{thread:c,participants:e,children:b("bs_curry")._1(f,n.reverse())})})})}c=a;f.styles=j;f.make=c}),null);
__d("MWPBaseMessageListRowCountdown.bs",["MAWEphemeralMessageTimer.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{display:"j83agx80",flexDirection:"cbu4d94t",justifyContent:"taijpn5t",flexGrow:"kb5gq1qc",marginEnd:"oi9244e8",marginStart:"h676nmdw",zIndex:"tkr6xdv7"},moveUpToAccountForReactions:{paddingBottom:"jfpizvyy"}};function a(a){var c=a.expirationTimestamp,d=a.ephemeralDurationInSec,e=a.hasReactions;a=a.ariaHidden;a=a!==void 0?a:!1;return i.jsx("div",{"aria-hidden":a,className:(h||(h=b("stylex")))(j.root,e?j.moveUpToAccountForReactions:!1),children:i.jsx(b("MAWEphemeralMessageTimer.bs").make,{expirationTimestamp:c,ephemeralDurationInSec:d})})}c=a;f.make=c}),null);
__d("MWPBaseMessageListRow.bs",["BaseThemeProvider.react","LSMessageContentType.bs","MWCombineThemeConfigs.bs","MWLSActor.bs","MWMessageDeliveryStatus.bs","MWPBaseMessageListRowCountdown.bs","MWPMessageListColumn.bs","MWPMessageParsingUtils.bs","MWV2MessageHasReply.bs","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function a(a){var c=a.message,d=a.prevMessage;a=a.children;c=b("MWPMessageParsingUtils.bs").isStartOfGroup(c,d);if(c)return b("bs_curry")._1(a,void 0);else return null}a={make:a};function j(a){return b("bs_caml").i64_eq(b("bs_caml_int64").and_(a.displayedContentTypes,b("LSMessageContentType.bs").hscrollXma),b("bs_caml_int64").zero)}var k={container:{display:"j83agx80"},inner:{display:"j83agx80",flexGrow:"buofh1pr",flexShrink:"g5gj957u",minWidth:"hpfvmrgz"},innerOutgoing:{flexDirection:"rl25f0pe"}};function c(a){var c=a.children,d=a.message,e=a.renderProfile,f=a.renderMessageActions,g=a.renderGutterItem;a=a.hasReactions;var l=b("MWLSActor.bs").useActor(void 0);l=b("bs_caml").i64_eq(d.senderId,l);var m=b("MWV2MessageHasReply.bs").make(d),n=d.ephemeralExpirationTs,o=d.ephemeralDurationInSec,p=d.isUnsent,q=b("MWMessageDeliveryStatus.bs").getFromSendStatus(d.sendStatusV2)===1;return i.jsxs("div",{role:"none",className:(h||(h=b("stylex")))(k.container),children:[i.jsxs(b("MWPMessageListColumn.bs").Profile.make,{children:[l?null:b("bs_curry")._1(e,void 0),a?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:18}):null]}),i.jsxs("div",{role:"none","data-testid":"message-container",className:h(k.inner,l?k.innerOutgoing:!1),children:[i.jsx(b("MWPMessageListColumn.bs").Bubble.make,{children:c,paint:!l||m,makeSpaceForActions:j(d)}),n!==void 0&&!p?i.jsx(b("MWPBaseMessageListRowCountdown.bs").make,{expirationTimestamp:n,ephemeralDurationInSec:o,hasReactions:a}):null,j(d)?i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:q?null:b("bs_curry")._1(f,void 0)}):null,i.jsx(b("MWPMessageListColumn.bs").Grow.make,{children:i.jsx(b("MWPMessageListColumn.bs").HorizontalSpacer.make,{})})]}),i.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:[b("bs_curry")._1(g,void 0),a?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:18}):null]})]})}c={styles:k,make:c};function d(a){var c=a.message,d=a.nextMessage;a=a.children;c=b("MWPMessageParsingUtils.bs").isEndOfGroup(c,d);if(c)return b("bs_curry")._1(a,void 0);else return null}d={make:d};var l={"mwp-reply-background-color":"var(--comment-footer-background)"},m={"mwp-reply-background-color":"var(--comment-footer-background)"},n={light:l,dark:m,type:"VARIABLES"};function e(a){var c=a.setHovered,d=a.stopHoveringRef,e=a.domElementRef,f=a.children,g=a.xstyle,j=a.role;a=a.theme;var k=g!==void 0?b("bs_caml_option").valFromOption(g):!1,l=a!==void 0?a:n,m=i.useCallback(function(a){return b("bs_curry")._1(c,function(a){return!1})},[c]);return i.jsx(b("BaseThemeProvider.react"),{config:i.useMemo(function(){return b("MWCombineThemeConfigs.bs").combine(n,l)},[l]),children:function(a,g){return i.jsx("div",{role:j,style:g,className:(h||(h=b("stylex")))(a,k),ref:e,onMouseOver:function(a){b("bs_curry")._1(d.current,void 0),b("bs_curry")._1(c,function(a){return!0}),d.current=m},onMouseLeave:function(a){if(d.current===m){b("bs_curry")._1(m,void 0);d.current=function(a){};return}},children:f})}})}l=e;f.BeforeContent=a;f.Body=c;f.Footer=d;f.defaultTheme=n;f.make=l}),null);
__d("MWPBaseMessageRowHeader.bs",["fbt","BaseHeading.react","LSMessageReplySourceTypeV2.bs","MWPMessageAuthor.bs","MWPMessageListColumn.bs","MWV2MessageHasReply.bs","StylexHelpers.bs","bs_caml_obj","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={header:{display:"j83agx80",flexDirection:"cbu4d94t"},alignEnd:{alignItems:"aovydwv3"},headingMargin:{marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x"}};function l(a){var c=a.message,d=a.outgoing;a=b("MWPMessageAuthor.bs").useAuthorName(c);a=a[0];var e=j.useMemo(function(){if(d)return g._(/*FBT_CALL*/"B\u1ea1n \u0111\u00e3 g\u1eedi"/*FBT_CALL*/);else return g._(/*FBT_CALL*/"Ng\u01b0\u1eddi tham gia"/*FBT_CALL*/)},[d]);if(c.isAdminMessage)return null;else return j.jsx("span",{className:(i||(i=b("stylex")))(b("StylexHelpers.bs").styles.visuallyHidden),children:a!==void 0&&!d?a:e})}c={make:l};function m(a,c,d,e){var f=a.replySnippet;f=f!==void 0?f!=="":!1;var g=b("bs_caml_obj").caml_equal(a.replySourceTypeV2,b("LSMessageReplySourceTypeV2.bs").forward);if(f)return b("bs_caml_option").some(b("bs_curry")._2(d,a,e));else if(g)return b("bs_caml_option").some(b("bs_curry")._2(c,a,e));else return}function a(a){var c=a.isFirstMessageInGroup,d=a.message,e=a.outgoing,f=a.renderSenderName,g=a.renderForwardSnippet,h=a.renderReplySnippet;a=a.isGroupThread;var n=b("MWV2MessageHasReply.bs").make(d);g=m(d,g,h,e);h=j.jsx(j.Fragment,{children:g!==void 0?j.jsx("div",{role:"none",className:(i||(i=b("stylex")))(k.header,e?k.alignEnd:!1),children:j.jsx(b("MWPMessageListColumn.bs").WithGutters.make,{children:b("bs_caml_option").valFromOption(g),shrinkwrap:!0})}):a&&c&&!e&&!n?b("bs_curry")._1(f,d):j.jsx(l,{message:d,outgoing:e})});if(c)return j.jsx(b("BaseHeading.react"),{xstyle:k.headingMargin,children:h});else return h}d=a;f.styles=k;f.AccessibleText=c;f.useSnippet=m;f.make=d}),null);
__d("MWPMessageListFocusTable.bs",["FocusRegion.react","MWMessageTableFocusTable.bs","MWV2MessageListIsRowModalContext.bs","bs_caml_option","focusScopeQueries","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={grid:{borderStart:"ns9esd28",borderEnd:"tqkqlopc"}};function k(a,b,c){return b["data-scope"]==="date_break"}function a(a){var c=a.modal,d=a.setModal,e=a.children,f=a.ariaLabel,g=a.wrapX;a=a.wrapY;g=g!==void 0?g:!1;a=a!==void 0?a:!1;var l=i.useCallback(function(a){var c=a.type;switch(c){case"PAGE_DOWN":case"PAGE_UP":break;default:return}c=a.type==="PAGE_DOWN";a.preventDefault();var d=a.currentRowIndex+(c?1:-1)|0,e=!1;while(!e){var f=a.getCell(d,a.currentCellIndex);if(f==null){var g=a.getCell(c?d-1|0:0,a.currentCellIndex);g==null||a.focusCell(g);e=!0}else{g=f.scopeRef.current;g=g!==void 0?b("bs_caml_option").valFromOption(g).DO_NOT_USE_queryFirstNode(k):null;g==null?d=c?d+1|0:d-1|0:(a.focusCell(f),e=!0)}}},[]);return i.jsx(b("MWV2MessageListIsRowModalContext.bs").Provider.make,{children:i.jsx(b("FocusRegion.react").FocusRegion,{recoverFocusQuery:b("MWMessageTableFocusTable.bs").scopeQuery,children:i.jsx(b("MWMessageTableFocusTable.bs").Table_.Table.make,{tabScopeQuery:b("focusScopeQueries").tabbableScopeQuery,wrapX:g,wrapY:a,allowModifiers:!0,children:i.jsx("div",{role:"grid","aria-label":f,className:(h||(h=b("stylex")))(j.grid),children:e}),disabled:c!=="",onNavigate:l})}),value:d})}c=a;f.styles=j;f.dateBreakQuery=k;f.make=c}),null);
__d("MWPMessageListRowWithKeyboardInteractions.bs",["fbt","BaseHeadingContextWrapper.re","CometPressable.react","CometScreenReaderText.react","CometTimestamp.react","FocusInertRegion.react","FocusRegion.react","FocusWithinHandler.react","KeyCommandHandler.react","MDSTextPairing.react","MWMessageCellFocusTable.bs","MWMessageCellKeyCommands.bs","MWMessageTableFocusTable.bs","MWPBaseMessageListRow.bs","MWPMessageAuthor.bs","MWV2MessageListIsRowModalContext.bs","MWV2MessageRowActionsContext.bs","MWV2MessageRowIsRowFocusedContext.bs","ReactDOMComet","StylexHelpers.bs","bs_caml_int64","bs_caml_option","bs_curry","focusScopeQueries","gkx","react","setTimeout","stylex","useCometTheme","useCometUniqueID","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={row:{position:"l9j0dhe7"},cell:{display:"j83agx80",flexDirection:"cbu4d94t",position:"l9j0dhe7"},cellFocusVisible:{zIndex:"tkr6xdv7"},cellModal:{outline:"etjob87o","@media (-webkit-min-device-pixel-ratio: 0)":{outline:"l9gyps8x"},outlineOffset:"shww88j2"},enterModalButton:{position:"pmk7jnqg",end:"hhcrnkbu",top:"ormqv51v",transform:"i9k17dj3",backgroundColor:"ms7hmo2b",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"r92hip7p",paddingTop:"pybr56ya",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw",paddingStart:"tw6a2znq",zIndex:"tkr6xdv7"},enterModalButtonVisible:{opacity:"pedkr2u6"}};function l(a){}function m(a){var b=a.key;if(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End"){a.preventDefault();return}}var n=g._(/*FBT_CALL*/"Chi ti\u1ebft v\u00e0 h\u00e0nh \u0111\u1ed9ng"/*FBT_CALL*/),o=g._(/*FBT_CALL*/"\u0110\u00f3ng Chi ti\u1ebft v\u00e0 h\u00e0nh \u0111\u1ed9ng"/*FBT_CALL*/);function a(a){var c=a.message,d=a.prevMessage,e=a.nextMessage,f=a.messageDomID,h=a.outgoing,p=a.stopHoveringRef,q=a.setFocused,r=a.setHovered,s=a.children,t=a.isModal,u=a.isDialogOpened,v=a.setIsDialogOpened,w=a.domElementRef,x=a.isFocused;a=a.theme;var y=j.useContext(b("MWV2MessageListIsRowModalContext.bs").context),z=j.useRef(null),A=j.useCallback(function(a){return b("bs_curry")._1(y,function(a){return c.messageId})},[y,c]),B=function(a){b("bs_curry")._1(y,function(a){return""});a=z.current;if(!(a==null))return a.focus()},C=b("CometTimestamp.react").getTimestamp(b("useServerTime")(),new Date(b("bs_caml_int64").to_float(c.timestampMs))),D=b("MWPMessageAuthor.bs").useAuthorName(c);D=D[0];h=h?g._(/*FBT_CALL*/"B\u1ea1n"/*FBT_CALL*/):D!==void 0?D:g._(/*FBT_CALL*/"m\u1ed9t ng\u01b0\u1eddi tham gia"/*FBT_CALL*/);var E=b("useCometUniqueID")(),F=j.jsx(b("CometScreenReaderText.react"),{text:g._(/*FBT_CALL*/"Tin nh\u1eafn do {Name of the author of the incoming message} g\u1eedi l\u00fac {Stringified timestamp of the incoming message}"/*FBT_CALL*/,[g._param("Stringified timestamp of the incoming message",C),g._param("Name of the author of the incoming message",h)]),id:E}),G=b("useCometUniqueID")();D=b("useCometTheme")("invert");var H=D[1],I=D[0],J=j.useRef(null),K=b("gkx")("5093"),L=b("gkx")("3598"),M=j.useRef(l),N=j.useRef(l),O=j.useRef(l),P=j.useRef(l);C=j.useMemo(function(){return{setFocused:q,setIsDialogOpened:v,isDialogOpened:u}},[q,v,u]);h=j.useMemo(function(){return{forwardMessage:O,openReactionsMenu:M,removeMessage:P,replyToMessage:N}},[M,N]);D={prevMessage:d,message:c,nextMessage:e,setHovered:r,stopHoveringRef:p,domElementRef:w,children:j.jsx(b("MWMessageTableFocusTable.bs").Table_.Row.make,{children:j.jsx(b("FocusWithinHandler.react"),{onFocusChange:function(a){if(x!==a){b("bs_curry")._1(q,function(b){return a});return b("bs_curry")._1(y,function(b){if((a||u)&&t)return c.messageId;else return""})}},onFocusVisibleChange:function(c){x!==c&&b("bs_curry")._1(q,function(a){return c});var a=J.current;if(c&&!(a==null)){b("setTimeout")(function(b){try{return a.scrollIntoView({block:"nearest",behavior:"smooth"})}catch(b){return a.scrollIntoView(!1)}},0);return}},children:function(a,d){a=b("bs_curry")._1(I,{children:j.jsx(b("CometPressable.react"),{"aria-label":t?o:n,ref:J,onPress:function(a){if(t)return B(void 0);else return b("bs_curry")._1(A,void 0)},xstyle:function(a){return[H,k.enterModalButton,d||t?k.enterModalButtonVisible:b("StylexHelpers.bs").styles.visuallyHidden]},focusable:!K||t,children:j.jsx(b("MDSTextPairing.react"),{body:t?g._(/*FBT_CALL*/"Esc"/*FBT_CALL*/):g._(/*FBT_CALL*/"Enter"/*FBT_CALL*/),level:4,bodyColor:"primary"})})});var e=j.jsx(b("MWMessageTableFocusTable.bs").Table_.Cell.make,{children:j.jsx("div",{ref:z,role:"gridcell",tabIndex:0,"data-scope":b("MWMessageTableFocusTable.bs").scopeID,"data-release-focus-from":"CLICK",className:(i||(i=b("stylex")))(k.cell,t?k.cellModal:!1,d?k.cellFocusVisible:!1),children:j.jsx(b("FocusInertRegion.react"),{disabled:t,children:t?j.jsxs(j.Fragment,{children:[j.jsx(b("FocusRegion.react").FocusRegion,{autoFocusQuery:b("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:b("focusScopeQueries").tabbableScopeQuery,recoverFocusQuery:b("focusScopeQueries").tabbableScopeQuery,children:j.jsx(b("KeyCommandHandler.react"),{children:j.jsxs("div",{role:"dialog","aria-describedby":f,"aria-labelledby":E,id:G,children:[s,t?F:null,a]}),onKeyDown:m})}),b("ReactDOMComet").createPortal(j.jsx("div",{"aria-owns":G}),document.body)]}):j.jsxs(j.Fragment,{children:[s,K?null:a]}),focusQuery:b("focusScopeQueries").tabbableScopeQuery})})});return j.jsxs(j.Fragment,{children:[j.jsx(b("MWMessageCellFocusTable.bs").keyCommands,{onEscape:t?B:void 0,onEnter:t?void 0:A,onSpace:t?void 0:A,children:L?j.jsx(b("MWMessageCellKeyCommands.bs").keyCommands,{message:c,children:e}):e}),!t&&K?j.jsx("div",{role:"gridcell",children:a}):null]})}})}),xstyle:k.row,role:"row"};a!==void 0&&(D.theme=b("bs_caml_option").valFromOption(a));return j.jsx(b("BaseHeadingContextWrapper.re").make,{children:j.jsx(b("MWV2MessageRowIsRowFocusedContext.bs").Provider.make,{children:j.jsx(b("MWV2MessageRowActionsContext.bs").Provider.make,{children:j.jsx(b("MWPBaseMessageListRow.bs").make,D),value:h}),value:C})})}c=a;f.styles=k;f.noop=l;f.onKeyDown=m;f.enterModalLabel=n;f.exitModalLabel=o;f.make=c}),null);
__d("MWPMessageListText.bs",["BaseTheme.react","CometTextWithEntities.react","LSMessageReplySourceTypeV2.bs","MWBaseTheme.bs","MWChatTextTransform.bs","MWVisibleMessageContext.bs","bs_caml_obj","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={forwardedOutgoing:{color:"av1wybal",borderStartColor:"ilywhbp3"},forwardedIncoming:{color:"pipptul6",borderStartColor:"ph5sz0o6"},forwarded:{borderStartStyle:"mk2mc5f4",borderStartWidth:"peup4ujy",paddingEnd:"hv4rvrfc",paddingStart:"dati1w0a",whiteSpace:"ii04i59q",wordWrap:"c1et5uql",fontSize:"e9vueds3",lineHeight:"j5wam9gi",marginTop:"aahdfvyu",marginEnd:"cxmmr5t8",marginBottom:"tvmbv18p",marginStart:"hcukyx3x"},regularOutgoing:{color:"ljqsnud1"},regularIncoming:{color:"oo9gr5id"},regular:{whiteSpace:"ii04i59q",fontSize:"jq4qci2q",lineHeight:"g9io39s2"}};d={"mw-blockquote-border-start-color":"var(--placeholder-text)"};e={"mw-blockquote-border-start-color":"var(--placeholder-text)"};var k={light:d,dark:e,type:"VARIABLES"};function a(a){if(a)return b("MWBaseTheme.bs").empty;else return k}function c(a){var c=a.message,d=a.text,e=a.outgoing,f=a.ranges,g=a.renderers,l=a.xstyleForText;a=a.xstyleForForwarded;l=l!==void 0?b("bs_caml_option").valFromOption(l):!1;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;b("MWVisibleMessageContext.bs").useHook(void 0);c=b("bs_caml_obj").caml_equal(c.replySourceTypeV2,b("LSMessageReplySourceTypeV2.bs").forward);var m=e?b("MWBaseTheme.bs").empty:k;if(d!==void 0)if(c){c={ranges:f,withParagraphs:!1,text:d,transforms:b("MWChatTextTransform.bs").epdTextTransforms};g!==void 0&&(c.renderers=b("bs_caml_option").valFromOption(g));a=i.jsx("blockquote",{className:(h||(h=b("stylex")))(j.forwarded,e?j.forwardedOutgoing:j.forwardedIncoming,a),dir:"auto",children:i.jsx(b("CometTextWithEntities.react"),c)})}else{c={ranges:f,withParagraphs:!1,text:d,transforms:b("MWChatTextTransform.bs").epdTextTransforms};g!==void 0&&(c.renderers=b("bs_caml_option").valFromOption(g));a=i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.regular,e?j.regularOutgoing:j.regularIncoming,l),dir:"auto",children:i.jsx(b("CometTextWithEntities.react"),c)})}else a=null;return i.jsx(b("BaseTheme.react"),{config:m,children:a,role:"none"})}d=b("MWBaseTheme.bs").empty;e=c;f.styles=j;f.ougtoingTheme=d;f.incomingTheme=k;f.getTheme=a;f.make=e}),null);
__d("MWPMessageSenderName.bs",["MWPMessageAuthor.bs","MWPMessageListColumn.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{fontSize:"r9r71o1u",color:"m9osqain",lineHeight:"fsrhnwul",paddingStart:"pg2h7yj2",paddingBottom:"r8blr3vg",marginTop:"qjjbsfad"}};function k(a){a=a.children;return i.jsx("div",{className:(h||(h=b("stylex")))(j.container),"data-testid":"mw_message_sender_name",children:a})}c={styles:j,make:k};function a(a){a=a.message;a=b("MWPMessageAuthor.bs").useAuthorName(a);a=a[0];return i.jsx(i.Fragment,{children:a!==void 0?i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:i.jsx(k,{children:a})}):null})}d=a;f.GroupHeading=c;f.make=d}),null);